<?xml version="1.0" encoding="UTF-8"?>
<interface
	name="main"
	onshow="
		if(!login_rememberPassword,
			If(
				GetCurrentGamePhase() lt 2,
				SleepWidget(1000,'PlayMusic(\'/music/menu.mp3\',true);')
			)
		);
	"
 	onshowlua="GetWidget('confirm_switch_spectator', 'main'):SetVisible(false) if GetCvarBool('host_store2buildshader') == true then HoN_Store:Store2BuildShaderStart() end"

	onload="
		CreateBool('movf_control_expand', 1);
		CreateBool('movf_constraintoscreen', 0);
		CreateBool('_latch_status', false);

		CreateBool('_loggedin', false);

		CreateInt('_raceResult', 1);
		CreateString('ui_lastSelectedUser');
		CreateBool('_latch', false);

		CreateBool('_iris_tutorial', false);
		CreateBool('_iris_match', false);
		CreateBool('_iris_public', false);
		CreateBool('_iris_create', false);

		CreateBool('_iris_tourn', false);
		CreateBool('_iris_replays', false);
		CreateBool('_iris_heroes', false);
		CreateBool('_iris_store', false);
		CreateInt('_stats_last_replay_id', -1);

		CreateString('_mainmenu_currentpanel', '');
		CreateString('ui_lastSelectedUser', '');

		CreateInt('_accept_prompt_sound_replay_time', 15000);

		## F2P Constants ##
		CreateInt('accountStanding_allModeThreshold', If(HasAllHeroes(), 1, 3));
		CreateInt('accountStanding_verifiedThreshold', 2);
		CreateBool('client_enableActionTracking', true);
		CreateInt('tokenCostPerGame', 1);
		CreateBool('_game_lobby_setPotentialAvatar', false);

		## Holiday Constants ##
		CreateBool('_is_halloween', false);
		CreateBool('_is_xmas', false);

		## Region Constants ##
		If(!VarExists('ui_useClientLoginSystem'), 	CreateBool('ui_useClientLoginSystem', true));
		If(!VarExists('ui_canCreateGame'), 			CreateBool('ui_canCreateGame', false));

		## Dev Constants ##
		If(!VarExists('ui_dev'), 					CreateBool('ui_dev', false));
		If(!VarExists('ui_dev_button'), 			CreateBool('ui_dev_button', false));
		If(!VarExists('releaseStage_dev'), 			CreateBool('releaseStage_dev', false));
		If(!VarExists('releaseStage_test'), 		CreateBool('releaseStage_test', false));
		If(!VarExists('releaseStage_rc'), 			CreateBool('releaseStage_rc', false));
		If(!VarExists('releaseStage_stable'), 		CreateBool('releaseStage_stable', false));
		If(!VarExists('ui_disableQAChecklist'), 	CreateBool('ui_disableQAChecklist', false)); 	SetSave('ui_disableQAChecklist');
		If(!VarExists('ui_showQuickStart'), 		CreateBool('ui_showQuickStart', false)); 		SetSave('ui_showQuickStart');
	"
	alwaysupdate="true"
	luatable="1"
	onreload="Logout(); Login();"
>
	<panel name="store2ShaderBuilder" noclick="true"/>
	<panel name="musicController" noclick="true" />

	<!-- Lua -->
	<lua file="/ui/scripts/global_main.lua" />
	<lua file="/ui/scripts/resource_manager.lua" />
	<lua file="/ui/scripts/lib_button.lua"/>
	<lua file="/ui/scripts/lib_button_handler_button2.lua"/>
	<lua file="/ui/scripts/lib_button_handler_simpledepress.lua"/>
	<lua file="/ui/scripts/lib_button_handler_simpleability.lua"/>
	<lua file="/ui/scripts/database.lua" />
	<lua file="/ui/scripts/main.lua" />
	<lua file="/ui/scripts/regions.lua" />
	<lua file="/ui/scripts/main_walkthrough.lua" />
	<lua file="/ui/scripts/notifications.lua" />
	<lua file="/ui/scripts/lib_json.lua"/>

	<trigger name="ScriptVersion" />
	<trigger name="uiLoaded"/>

	<panel noclick="true" watch="GamePhase" ontrigger="If(param0 == 0, Set('host_timescale', 1));"/>

	<!-- Temp -->
	<trigger name="systemBarView"/>
	<trigger name="systemNotificationsBusy"/>
	<trigger name="systemNotificationsCount"/>

	<!-- Load On Demand -->
	<include file="/ui/precache.package"/>
	<trigger name="MainRegisterTextures" />
	<trigger name="MainRegisterModels" />
	<trigger name="MainRegisterEffects" />
	<panel name="lod_main_register_delay" noclick="1"
		   onload="SleepWidget(1, 'DoEvent()');"
		   onreload="DoEvent(); SleepWidget(1, 'Cmd(\'UICall * Trigger(\\\'GamePhase\\\', GamePhase);\');');"
		   onloadlua="RegisterScript('Main_Interface', '33')"
		   onevent="Trigger('MainRegisterTextures'); Trigger('MainRegisterModels'); Trigger('MainRegisterEffects');"
	/>
	<panel name="lod_main_unload_delay" noclick="1" />
	<panel name="event_load_b" noclick="1" />

	<if condition="(releaseStage_dev or releaseStage_test) and !releaseStage_stable" >
		<include file="/ui/widget_editor.package"/>
	</if>

	<!-- temp sleep stuff -->
	<panel noclick="1" name="load_news" />
	<panel name="event_background_scene" />

	<!-- Movable frames -->
	<trigger name="movf_interfacegame" />

	<!-- Gives panels a sec to slide up -->
	<trigger name="ViewReplayDelayed" />
	<panel color="invisible" noclick="true" watch="ViewReplayDelayed"
		ontrigger="SleepWidget(200, 'StartReplay(\'' # param0 # '\');');"
	/>

	<trigger name="UIDevTrigger" />
	<trigger name="PurchaseHeroPopup"/>

	<!-- Libs -->
	<include file="lib_anim.package"/>
	<lua file="/ui/scripts/lib_anim.lua" />

	<!-- Packages -->
	<include file="/ui/shared_templates_global.package"/>
	<childinterface file="/ui/fe2/ui_items_2.interface" />
	<include file="background.package"/>
	<include file="account.package"/>


	<!-- has to assist earlier! -->
	<template name="mm_asset_loading_progressbar">
		<panel
			sticky="true"
			stickytoinvis="false"
			height="{height=1.8h}"
			width="100%"
			noclick="true"
			visible="{visible=false}"
			watch="TMMPlayerStatus{id}"
			ontrigger="SetVisible(!StringEmpty(param0));"
		>
			<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color="#171a28"/>
			<panel x="0.2h" y="0.2h" width="-0.4h" height="-0.35h">
				<panel
					width="{testwidth=0%}"
					color="green"
					watch="TMMPlayerStatus{id}"
					ontrigger="SetWidth(param4 # '%');"
				/>
			</panel>
			<frame texture="/ui/frames/roundframe.tga" color="#bbdefa" borderthickness="0.3h"/>
			<label
				y="-0.1h"
				width="100%"
				height="100%"
				textalign="center"
				textvalign="center"
				font="dyn_10"
				color="white"
				shadow="true"
				watch="TMMPlayerStatus{id}"
				ontrigger="SetText(param1);"
			/>

			<!-- Darken -->
			<panel visible="{darken=false}">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color="0 0 0 .8"/>
				<frame texture="/ui/frames/roundframe.tga" color="#678095" borderthickness="0.3h"/>
			</panel>
		</panel>
	</template>

	<include file="matchmaking.package"/>

	<!-- <include file="player_tour.package"/> -->
	<include file="player_tour_stats.package"/>
	<include file="player_motd.package"/>
	<include file="player_stats.package"/>
	<include file="player_ladder.package"/>
	<include file="replay_viewer.package"/>

	<include file="player_hosted.package"/>

	<include file="watch_system.package"/>

	<include file="match_replays.package"/>
	<include file="/ui/fe2/ctf_end_splash.package"/>
	<include file="/ui/fe2/soccer_end_splash.package"/>
	<include file="game_options.package"/>

	<include file="communicator.package"/>
	<include file="/ui/fe2/quests/quests.package"/>
	<include file="changelog.package"/>
	<include file="create_account.package"/>
	<include file="hero_loading.package"/>
	<include file="inactive_account.package"/>
	<lua file="/ui/scripts/game_lobby.lua" />
	<include file="game_lobby.package"/>
	<include file="game_lobby_hero_info.package"/>
	<childinterface file="/ui/confirmations.interface" />
	<include file="report_a_player_form.package"/>
	<include file="rap_templates.package"/>


	<include file="news.package"/>
	<include file="learnatorium.package"/>

	<include file="form_purchase_name_change.package"/>

	<childinterface file="/ui/test_suite/test_suite_client.interface" />

	<!-- load entity definitions once -->
	<panel name="RegisterEntityDefinitionsHelper" noclick="true" color="invisible" onload="CreateBool('_entityDefinitionsLoaded', false);"
		onevent="If(!_entityDefinitionsLoaded, SleepWidget(550, 'RegisterEntityDefinitions(); Set(\'_entityDefinitionsLoaded\', true);'), SleepWidget(550, 'Trigger(\'EntityDefinitionsLoaded\');'));"
	/>

	<!-- Temp conversion of fe2 visibility system to wip fe3 visibility system, for older files -->
	<panel name="MainMenuPanelSwitcher"
		oneventlua="UIManager.GetInterface('main'):HoNMainF('MainMenuPanelToggle', GetCvarString('_mainmenu_currentpanel'), nil, false)"
	/>

	<trigger name="ShowMainMenu"/>

	<template name="lower_tab" >
		<button name="{id}" width="{width=100%}" height="{height=100%}" align="{align}" valign="{valign}"
			onclicklua="{onclicklua}"
			onmouseoverlua="{onmouseoverlua=self:DoEventN(2)}"
			onmouseoutlua="{onmouseoutlua}"
			onevent0lua="
				GetWidget('{id}_inner_frame'):SetColor('#0a0e11')
				GetWidget('{id}_inner_frame'):SetBorderColor('#0a0e11')

				GetWidget('{id}_outer_frame'):SetBorderColor('#292f2f')
				-- GetWidget('{id}_outer_frame'):SetColor('#292f2f')
			"
			onevent1lua="
				GetWidget('{id}_inner_frame'):SetColor('#16242b')
				GetWidget('{id}_inner_frame'):SetBorderColor('#16242b')

				GetWidget('{id}_outer_frame'):SetBorderColor('#464950')
				-- GetWidget('{id}_outer_frame'):SetColor('#464950')
			"
			onevent2lua="
				GetWidget('{id}_inner_frame'):SetColor('#16242b')
				GetWidget('{id}_inner_frame'):SetBorderColor('#16242b')

				GetWidget('{id}_outer_frame'):SetBorderColor('#464950')
				-- GetWidget('{id}_outer_frame'):SetColor('#464950')
			"
			disabledmouseover="{disabledmouseover}"
			disabledmouseout="{disabledmouseout}"
			onmouseoverdisabledlua="{onmouseoverdisabledlua}"
			onmouseoutdisabledlua="{onmouseoutdisabledlua}"
		>
			<frame name="{id}_inner_frame" borderthickness="2" noclick="1" />
			<frame name="{id}_outer_frame" borderthickness="2" color="invisible" noclick="1" />

		</button>
	</template>

	<template name="midbar_button_double">
		<panel x="{x}" y="-0.3h" align="{align}" width="26.8h" height="13.4h" noclick="true">
			<button
				y="1%"
				width="91%" height="49.5%"
				align="center" valign="top"
				color="invisible"
				mouseoverdisabled="true"
				mouseoutdisabled="true"
				onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav'); {onmouseover}"
				onmouseout="{onmouseout}"
				enabled="{enabled=true}"
				onclick="PlaySound('{sound=/shared/sounds/ui/button_click_01.wav}'); {onclick}"
				onclicklua="{onclicklua}"
				name="{button_name}"
				luatable="{luatable=false}"
			>
				<widgetstate statename="up">
					<frame group="{button_name}_bg" texture="/ui/fe2/frames/menu_playnow.tga" borderthickness="2.0h" noclick="true" />
					<image group="{button_name}_icons" x="-32%" y="15%" width="70@" height="70%" align="center" valign="top" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="0.1h" x="-12@" width="-115@" align="right" textalign="center" textvalign="center" font="dyn_18" color="#ffc600" outline="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="over">
					<frame texture="/ui/fe2/frames/menu_playnow_over.tga" borderthickness="2.0h" noclick="true" />
					<image group="{button_name}_glow" x="-32%" y="14%" width="140@" height="140%" align="center" valign="top" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
					<image group="{button_name}_icons" x="-32%" y="15%" width="70@" height="70%" align="center" valign="top" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="0.1h" x="-12@" width="-115@" align="right" textalign="center" textvalign="center" font="dyn_18" color="#ffff00" outline="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="down">
					<frame texture="/ui/fe2/frames/menu_playnow_down.tga" borderthickness="2.0h" noclick="true" />
					<image group="{button_name}_glow" x="-32%" y="14%" width="140@" height="140%" align="center" valign="top" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
					<image group="{button_name}_icons" x="-32%" y="15%" width="70@" height="70%" align="center" valign="top" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="0.1h" x="-12@" width="-115@" align="right" textalign="center" textvalign="center" font="dyn_18" color="#ffff00" outline="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="disabled">
					<frame texture="/ui/fe2/frames/menu_playnow.tga" borderthickness="2.0h" rendermode="grayscale" noclick="true" />
					<image group="{button_name}_icons" x="-32%" y="15%" width="70@" height="70%" align="center" valign="top" texture="/ui/fe2/mainmenu/icons/{icon}.tga" rendermode="grayscale" noclick="true"/>
					<label group="{button_name}_labels" y="0.1h" x="-12@" width="-115@" align="right" textalign="center" textvalign="center" font="dyn_18" color=".5 .5 .5 1" outline="true" content="{label}" />
				</widgetstate>
			</button>
			<image width="100%" height="100%" valign="center" align="center" texture="/ui/fe2/mainmenu/menu_double_btn_frame{side}.tga" noclick="true" />
		</panel>
	</template>

	<template name="midbar_button_double_split_left">
		<panel x="{x}" y="-0.3h" align="{align}" width="8.7h" height="13.4h" noclick="true">
			<button
				y="1%"
				width="91%" height="49.5%"
				align="center" valign="top"
				color="invisible"
				mouseoverdisabled="true"
				mouseoutdisabled="true"
				onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav'); {onmouseover}"
				onmouseout="{onmouseout}"
				enabled="{enabled=true}"
				onclick="PlaySound('{sound=/shared/sounds/ui/button_click_01.wav}'); {onclick}"
				onclicklua="{onclicklua}"
				name="{button_name}"
				luatable="{luatable=false}"
			>
				<widgetstate statename="up">
					<frame group="{button_name}_bg" texture="/ui/fe2/frames/menu_playnow.tga" borderthickness="2.0h" noclick="true" />
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color=".85 .85 .85 1" shadow="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="over">
					<frame texture="/ui/fe2/frames/menu_playnow_over.tga" borderthickness="2.0h" noclick="true" />
					<image group="{button_name}_glow" y="3.5%" width="140@" height="140%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color="1 1 1 1" shadow="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="down">
					<frame texture="/ui/fe2/frames/menu_playnow_down.tga" borderthickness="2.0h" noclick="true" />
					<image group="{button_name}_glow" y="3.5%" width="140@" height="140%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color="1 1 1 1" shadow="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="disabled">
					<frame texture="/ui/fe2/frames/menu_playnow.tga" borderthickness="2.0h" rendermode="grayscale" noclick="true" />
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" rendermode="grayscale" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color=".5 .5 .5 1" shadow="true" content="{label}" />
				</widgetstate>
			</button>
		</panel>
	</template>

	<template name="midbar_button_double_split_right">
		<panel x="{x}" y="-0.3h" align="{align}" width="17.5h" height="13.4h" noclick="true">
			<button
				y="1%"
				width="91%" height="49.5%"
				align="center" valign="top"
				color="invisible"
				mouseoverdisabled="true"
				mouseoutdisabled="true"
				onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav'); {onmouseover}"
				onmouseout="{onmouseout}"
				enabled="{enabled=true}"
				onclick="PlaySound('{sound=/shared/sounds/ui/button_click_01.wav}'); {onclick}"
				onclicklua="{onclicklua}"
				name="{button_name}"
				luatable="{luatable=false}"
			>
				<widgetstate statename="up">
					<frame group="{button_name}_bg" texture="/ui/fe2/frames/menu_playnow.tga" borderthickness="2.0h" noclick="true" />
					<panel y="3.5%" align="center" noclick="1" width="70@" height="70%">
						<image group="{button_name}_icons" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					</panel>
					<label group="{button_name}_labels" y="1.50h" align="left" textalign="center" textvalign="center" font="dyn_18" color="#ffc600" outline="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="over">
					<frame texture="/ui/fe2/frames/menu_playnow_over.tga" borderthickness="2.0h" noclick="true" />
					<panel y="3.5%" align="center" noclick="1" width="70@" height="70%">
						<image group="{button_name}_glow" width="200@" height="200%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
						<image group="{button_name}_icons" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					</panel>
					<label group="{button_name}_labels" y="1.50h" align="left" textalign="center" textvalign="center" font="dyn_18" color="#ffff00" outline="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="down">
					<frame texture="/ui/fe2/frames/menu_playnow_down.tga" borderthickness="2.0h" noclick="true" />
					<panel y="3.5%" align="center" noclick="1" width="70@" height="70%">
						<image group="{button_name}_glow" width="200@" height="200%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
						<image group="{button_name}_icons" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					</panel>
					<label group="{button_name}_labels" y="1.50h" align="left" textalign="center" textvalign="center" font="dyn_18" color="#ffff00" outline="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="disabled">
					<frame texture="/ui/fe2/frames/menu_playnow.tga" borderthickness="2.0h" rendermode="grayscale" noclick="true" />
					<panel y="3.5%" align="center" noclick="1" width="70@" height="70%">
						<image group="{button_name}_icons" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" rendermode="grayscale" noclick="true"/>
					</panel>
					<label group="{button_name}_labels" y="1.50h" align="left" textalign="center" textvalign="center" font="dyn_18" color=".5 .5 .5 1" outline="true" content="{label}" />
				</widgetstate>
			</button>
		</panel>
	</template>

	<template name="midbar_button_half">
		<panel name="{button_name}_parent" x="{x}" y="{y=0}" valign="{valign}" width="13.4h" height="48.0%" noclick="true" visible="{visible=1}">
			<button
				width="78%" height="100%"
				align="center"
				color="invisible"
				onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav'); {onmouseover}"
				onmouseout="{onmouseout}"
				enabled="{enabled=true}"
				onclick="PlaySound('{sound=/shared/sounds/ui/button_click_01.wav}'); {onclick}"
				onclicklua="{onclicklua}"
				name="{button_name}"
				onevent="{onevent}"
			>
				<widgetstate statename="up">
					<frame group="{button_name}_bg" texture="/ui/fe2/frames/menu.tga" borderthickness="1.2h" />
					<panel x="-5@" y="-5%" grow="true" height="100%" align="center" float="right" padding="0.2h" noclick="true">
						<panel width="80@" height="100%" noclick="true">
							<image group="{button_name}_icons" width="100%" height="100@" valign="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
						</panel>
						<label group="{button_name}_labels" height="100%" fitx="true" textvalign="center" font="{font=dyn_9}" color=".85 .85 .85 1" shadow="true" content="{label}" />
					</panel>
				</widgetstate>
				<widgetstate statename="over">
					<frame group="{button_name}_bg" texture="/ui/fe2/frames/menu_over.tga" borderthickness="1.2h" />
					<panel x="-5@" y="-5%" grow="true" height="100%" align="center" float="right" padding="0.2h" noclick="true">
						<panel width="80@" height="100%" noclick="true">
							<image x="-45@" y="35%" width="200%" height="200@" valign="center" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
							<image group="{button_name}_icons" width="80@" height="80%" valign="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
						</panel>
						<label group="{button_name}_labels" height="100%" fitx="true" textvalign="center" font="{font=dyn_9}" color="1 1 1 1" shadow="true" content="{label}" />
					</panel>
				</widgetstate>
				<widgetstate statename="down">
					<frame group="{button_name}_bg" texture="/ui/fe2/frames/menu_down.tga" borderthickness="1.2h" />
					<panel x="-5@" y="-5%" grow="true" height="100%" align="center" float="right" padding="0.2h" noclick="true">
						<panel width="80@" height="100%" noclick="true">
							<image x="-45@" y="35%" width="200%" height="200@" valign="center" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
							<image group="{button_name}_icons" width="80@" height="80%" valign="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
						</panel>
						<label group="{button_name}_labels" height="100%" fitx="true" textvalign="center" font="{font=dyn_9}" color="1 1 1 1" shadow="true" content="{label}" />
					</panel>
				</widgetstate>
				<widgetstate statename="disabled">
					<frame group="{button_name}_bg" texture="/ui/fe2/frames/menu.tga" borderthickness="1.2h" />
					<panel x="-5@" y="-5%" grow="true" height="100%" align="center" float="right" padding="0.2h" noclick="true">
						<panel width="80@" height="100%" noclick="true">
							<image group="{button_name}_icons" width="80@" height="80%" valign="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" rendermode="grayscale" color=".6 .6 .6 1" noclick="true"/>
						</panel>
						<label group="{button_name}_labels" height="100%" fitx="true" textvalign="center" font="{font=dyn_9}" color=".5 .5 .5 1" shadow="true" content="{label}" />
					</panel>
				</widgetstate>
			</button>
		</panel>
	</template>

	<template name="midbar_button">
		<panel name="{button_name}_parent" x="{x}" y="{y=-0.3h}" align="{align}" width="13.4h" height="13.4h" noclick="true" visible="{visible=1}">
			<button
				y="1%"
				width="78%" height="49.5%"
				align="center" valign="top"
				color="invisible"
				onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav'); {onmouseover}"
				onmouseout="{onmouseout}"
				enabled="{enabled=true}"
				onclick="PlaySound('{sound=/shared/sounds/ui/button_click_01.wav}'); {onclick}"
				onclicklua="{onclicklua}"
				name="{button_name}"
				onevent="{onevent}"
				watch="{watch}"
				ontriggerlua="{ontriggerlua}"
				watch1="{watch1}"
				ontrigger1lua="{ontrigger1lua}"
			>
				<widgetstate statename="up">
					<frame group="{button_name}_bg" texture="/ui/fe2/frames/menu.tga" borderthickness="2.0h" />
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color=".85 .85 .85 1" shadow="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="over">
					<frame texture="/ui/fe2/frames/menu_over.tga" borderthickness="2.0h" />
					<image y="3.5%" width="140@" height="140%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color="1 1 1 1" shadow="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="down">
					<frame texture="/ui/fe2/frames/menu_down.tga" borderthickness="2.0h" />
					<image y="3.5%" width="140@" height="140%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color="1 1 1 1" shadow="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="disabled">
					<frame texture="/ui/fe2/frames/menu.tga" borderthickness="2.0h" rendermode="grayscale" />
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" rendermode="grayscale" color=".6 .6 .6 1" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color=".5 .5 .5 1" shadow="true" content="{label}" />
				</widgetstate>
			</button>
			<image width="100%" height="100%" valign="center" align="center" texture="/ui/fe2/mainmenu/menu_btn_frame{side}.tga" noclick="true" />
			<panel name="{button_name}_effect" y="1%" width="78%" height="49.5%" align="center" valign="top" visible="{highlight=false}" noclick="1">
				<modelpanel
					model="/ui/common/models/main/button2.mdf"
					anim="idle"
					camerapos="-15 -1500 -3"
					cameraangles="0 0 0"
					camerafov="4.42"
					carmerafar="7000"
					depthclear="false"
					depthcompress="true"
					sunazimuth="140"
					sunaltitude="10"
					suncolor="1 1 1"
					onshow="SetEffect('/ui/common/models/main/button.effect'));"
					noclick="true"
				/>
			</panel>
		</panel>
	</template>

	<template name="midbar_button_red">
		<panel name="{button_name}_parent" x="{x}" y="{y=-0.3h}" align="{align}" width="13.4h" height="13.4h" noclick="true" visible="{visible=1}">
			<button
				y="1%"
				width="78%" height="49.5%"
				align="center" valign="top"
				color="invisible"
				onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav'); {onmouseover}"
				onmouseout="{onmouseout}"
				enabled="{enabled=true}"
				onclick="PlaySound('{sound=/shared/sounds/ui/button_click_01.wav}'); {onclick}"
				onclicklua="{onclicklua}"
				name="{button_name}"
				onevent="{onevent}"
			>
				<widgetstate statename="up">
					<frame group="{button_name}_bg" texture="/ui/fe2/frames/menu_playnow.tga" borderthickness="2.0h" />
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color=".85 .85 .85 1" shadow="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="over">
					<frame texture="/ui/fe2/frames/menu_playnow_over.tga" borderthickness="2.0h" />
					<image y="3.5%" width="140@" height="140%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color="1 1 1 1" shadow="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="down">
					<frame texture="/ui/fe2/frames/menu_playnow_down.tga" borderthickness="2.0h" />
					<image y="3.5%" width="140@" height="140%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}_glow_blue.tga" noclick="true"/>
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color="1 1 1 1" shadow="true" content="{label}" />
				</widgetstate>
				<widgetstate statename="disabled">
					<frame texture="/ui/fe2/frames/menu_playnow.tga" borderthickness="2.0h" rendermode="grayscale" />
					<image group="{button_name}_icons" y="3.5%" width="70@" height="70%" align="center" texture="/ui/fe2/mainmenu/icons/{icon}.tga" rendermode="grayscale" color=".6 .6 .6 1" noclick="true"/>
					<label group="{button_name}_labels" y="-0.25h" textalign="center" textvalign="bottom" font="{font=dyn_9}" color=".5 .5 .5 1" shadow="true" content="{label}" />
				</widgetstate>
			</button>
			<image width="100%" height="100%" valign="center" align="center" texture="/ui/fe2/mainmenu/menu_btn_frame{side}.tga" noclick="true" />
		</panel>
	</template>

	<!-- Reconnect -->
	<template name="reconnect_buttons">
		<label
			width="70%" height="4.5h"
			wrap="true"
			font="dyn_10"
			color="white"
			x=".5h"
			content="main_reconnect_text"
		/>

		<label
			y="4h"
			width="-1h" height="4.5h"
			align="center"
			textalign="center"
			wrap="true"
			font="dyn_10"
			color="white"
			x=".5h"
			watch="ReconnectTimer"
			ontrigger="SetText(Translate('main_reconnect_body', 'time', Round(param / 1000))); If(Round(param / 1000) le 0, HideWidget('reconnect_dialog'));"
		/>

		<instance
			name="button2"
			button_name="reconnectPromptOK"
			x="-.5h" y=".5h"
			width="10.0h" height="2.4h"
			align="right"
			label="main_reconnect_ok"
			watch="ReconnectAddress"
			ontrigger="SetOnclick('HideWidget(\'reconnect_dialog\'); Connect(\'' # param # '\'); Cmd(\'set _loading_tip_shown false\'); Call(\'LoginBuyAccountPromo\', \'FadeOut(250);\');');"
		/>
	</template>

	<template name="language_button">
		<panel height="2.8h" noclick="true">
			<button
				color="invisible"
				onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
				onclick="
					If(!{disabled=false}, SetLanguage('{code}'));
					Trigger('language_chosen');
					PlaySound('{sound=/shared/sounds/ui/button_click_01.wav}');
					Call('language_selector', '
						SlideY(\'-20h\', 200);
						SleepWidget(200, \'
							HideWidget(\\\'language_selector\\\');
							Trigger(\\\'LanguageSelectorVisible\\\', \\\'0\\\');
						\');
					');
				"
			>
				<widgetstate statename="up">
					<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.4h" color=".2 .2 .2 1" blockinput="false" noclick="true"/>
					<frame texture="/ui/frames/roundframe.tga" color="1 1 1 .4" borderthickness="0.4h" blockinput="false" noclick="true"/>
					<image x="0.5h" y="0.5h" width="94@" height="94%" texture="{texture}" noclick="true" />
					<label x="135@" height="100%" textvalign="center" font="dyn_11" color="white" shadow="1" content="{language}"/>
				</widgetstate>

				<widgetstate statename="over">
					<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.4h" color="#004d22" blockinput="false" noclick="true"/>
					<frame texture="/ui/frames/roundframe.tga" color="green" borderthickness="0.4h" blockinput="false" noclick="true"/>
					<image x="0.5h" y="0.5h" width="94@" height="94%" texture="{texture}" noclick="true" />
					<label x="135@" height="100%" textvalign="center" font="dyn_11" color="white" shadow="1" content="{language}"/>
				</widgetstate>

				<widgetstate statename="down" x="1" y="1">
					<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.4h" color="#004d22" blockinput="false" noclick="true"/>
					<frame texture="/ui/frames/roundframe.tga" color="green" borderthickness="0.4h" blockinput="false" noclick="true"/>
					<image x="0.5h" y="0.5h" width="94@" height="94%" texture="{texture}" noclick="true" />
					<label x="135@" height="100%" textvalign="center" font="dyn_11" color="white" shadow="1" content="{language}"/>
				</widgetstate>
			</button>

			<frame texture="/ui/frames/roundframe.tga" color="#ffce08" borderthickness="0.4h" blockinput="false" noclick="true" watch="language_chosen" ontrigger="SetVisible(StringEquals(host_language, '{code}'));" />
		</panel>
	</template>

	<template name="Card_ListItem">
		<panel height="0.25h" color="{framecolor0}" />
		<panel y="100%" height="0.25h" color="{framecolor0}" />
		<panel x="-0.25%" width="0.5%" height="105%" color="{framecolor0}" />
		<panel x="100%" height="105%" width="0.5%" color="{framecolor0}" />
		<panel x="70.6%" y="17.5%" width="0.2%" height="75%" color="{framecolor1}" />
		<panel x="70.8%" y="17.5%" width="0.2%" height="75%" color="{framecolor2}" />
		<label width="70%" font="dyn_10" color="{textcolor}" align="left" valign="center" textalign="center" textvalign="center" content="{name}" />
		<label x="71%" width="29%" font="dyn_10" color="{textcolor}" valign="center" textalign="center" textvalign="center" content="{discount}" />
	</template>

	<template name="CardListControl">
		<panel name="CardListControl_{surffix}" y="{y}" width="{width}" height="{height}"  sticky="{sticky}" stickytoinvis="{stickytoinvis}">

			<panel name="CardListBack_{surffix}" align="center" valign="center" y="-6.8%" width="97%" height="92%" visible="{useframe=false}">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="1h" style="microStorePaperText" color="#925a22" />
				<frame texture="/ui/frames/roundframe.tga" style="microStorePaperText" borderthickness="1h" color="black" />
			</panel>

			<listbox
				name="easy_CardListbox_{surffix}"
				x="2.5%"
				width="95%"
				visible="true"
				color="invisible"
				font="dyn_11"
				itemheight="{itemheight}"
				hoverselect="false"
				itemmultipleselection="true"
				hoverhighlight="true"
				highlight="under"
				highlightbordercolor="invisible"
				highlightcolor="{highlightcolor}"
				selectedcolor="{selectedcolor}"
				selectedbordercolor="invisible"
				backgroundimage="{backgroundimage}"
				backgroundimagecolor="{backgroundimagecolor}"
				scrolltexture="/ui/info/combobox.tga"
				colortransition="false"
				colortransitiontime="250"
				scrollbarsize="2h"
				handleheight="2h"
				onclick=""
				onevent=""
				onselectlua="{onselectlua}"
				onshow="{onshow}"
				onshowlua="{onshowlua}"
				watch="{watch}"
				ontrigger="{ontrigger}"
				ontriggerlua="{ontriggerlua}"
			/>
			<label y="{label_y}" name="easy_CardDesc_{surffix}" sticky="true" stickytoinvis="false" align="center" width="80%" wrap="true" fity="true" textalign="center" textvalign="center" font="dyn_10" color="{textcolor}" style="microStorePaperText"/>
		</panel>
	</template>
	
	
	<!-- Start Login Animations -->
	
	<!-- Login Animations Garena -->
	<if condition="cl_GarenaEnable" >
		<panel name="event_midbar" noclick="true"
			onevent0="
				Call('midbar_panel_left','SlideX(\'0%\', 400);');
				Call('midbar_panel_right','SlideX(\'100%\', 400);');

				Call('midbar_gear_botright', 'Rotate(0, 400);');
				Call('midbar_gear_topright', 'Rotate(0, 400);');
				Call('midbar_gear_botleft', 'Rotate(0, 400);');
				Call('midbar_gear_topleft', 'Rotate(0, 400);');

				CallEvent('toggle_latch', 0);
			"
			onevent1="
				Call('midbar_panel_left','SlideX(\'50%\', 400);');
				Call('midbar_panel_right','SlideX(\'50%\', 400);');

				Call('midbar_gear_botright', 'Rotate(-1000, 400);');
				Call('midbar_gear_topright', 'Rotate(1000, 400);');
				Call('midbar_gear_botleft', 'Rotate(1000, 400);');
				Call('midbar_gear_topleft', 'Rotate(-1000, 400);');

				Trigger('main_panel_effects_slidein',0);
				CallEvent('toggle_latch', 1);
			"
		/>

		<panel name="event_com" noclick="1"
			onevent0="
				Call('lower_cover_left_1', 'SleepWidget(\'900\', \'SlideX(\\\'-61.5h\\\', 800); PlaySound(\\\'/shared/sounds/ui/menu/slide_3.wav\\\');\');');
				Call('lower_cover_right_1', 'SleepWidget(\'900\', \'SlideX(61.5h, 800);\');');

				Call('lower_cover_left_2', 'SleepWidget(\'600\', \'SlideX(\\\'-43.7h\\\', 800);\');');
				Call('lower_cover_right_2', 'SleepWidget(\'600\', \'SlideX(43.7h, 800);\');');

				Call('prelogin_loginbox', 'SleepWidget(\'300\', \'SlideY(0h, 800);\');');
				Call('prelogin_loginbox_disabled', 'SleepWidget(\'300\', \'SlideY(0h, 800);\');');
				Call('prelogin_lower', 'SleepWidget(\'300\', \'SlideY(0h, 800); PlaySound(\\\'/shared/sounds/ui/menu/slide_2.wav\\\');\');');

				Call('large_gear_left', 'SleepWidget(\'0\', \'Rotate(0h, 400);\');'); PlaySound('/shared/sounds/ui/menu/slide_1.wav');
				Call('large_gear_right', 'SleepWidget(\'0\', \'Rotate(0h, 400);\');');

				Call('com_hider', 'fadein(2500)');
			"
			onevent1="
				Call('com_hider', 'fadeout(1500);');
				Call('lower_cover_left_1', 'SleepWidget(\'00\', \'SlideX(-0h, 800); PlaySound(\\\'/shared/sounds/ui/menu/slide_3.wav\\\');\');');
				Call('lower_cover_right_1', 'SleepWidget(\'00\', \'SlideX(0h, 800);\');');

				Call('lower_cover_left_2', 'SleepWidget(\'300\', \'SlideX(0h, 800);\');');
				Call('lower_cover_right_2', 'SleepWidget(\'300\', \'SlideX(0h, 800);\');');

				Call('prelogin_loginbox', 'SleepWidget(\'600\', \'SlideY(60h, 800);\');');
				Call('prelogin_loginbox_disabled', 'SleepWidget(\'600\', \'SlideY(60h, 800);\');');
				Call('prelogin_lower', 'SleepWidget(\'600\', \'SlideY(60h, 800); PlaySound(\\\'/shared/sounds/ui/menu/slide_2.wav\\\');\');');

				Call('large_gear_left', 'SleepWidget(\'900\', \'Rotate(-90h, 400); PlaySound(\\\'/shared/sounds/ui/menu/slide_1.wav\\\');\');');
				Call('large_gear_right', 'SleepWidget(\'900\', \'Rotate(90h, 400);\');');
			"
		/>
	</if>
	
	<!-- Login Animations NAEU -->
	<if condition="!cl_GarenaEnable">
		<panel name="event_midbar" noclick="1"
			onevent0="
				Call('midbar_panel_left','SlideX(\'-2%\', 400);');
				Call('midbar_panel_right','SlideX(\'102%\', 400);');

				CallEvent('toggle_latch', 0);
			"
			onevent1="
				Call('midbar_panel_left','SlideX(\'50%\', 400);');
				Call('midbar_panel_right','SlideX(\'50%\', 400);');

				Trigger('main_panel_effects_slidein',0);
				CallEvent('toggle_latch', 1);
			"
		/>
		
		<panel name="event_com" noclick="1"
			onevent0="
				Call('prelogin_loginbox', 'SleepWidget(\'300\', \'SlideY(0h, 800);\');');
				Call('fe2_lower', 'SleepWidget(\'300\', \'SlideY(40h, 800);\');');
				Call('prelogin_loginbox_disabled', 'SleepWidget(\'300\', \'SlideY(0h, 800);\');');
				Call('prelogin_lower', 'SleepWidget(\'300\', \'SlideY(0h, 800); PlaySound(\\\'/shared/sounds/ui/menu/slide_2.wav\\\');\');');
				Call('fe2_background', 'SleepWidget(\'50\', \'FadeOut(200);\');');
				Call('fe2_background_new', 'SleepWidget(\'50\', \'FadeIn(300);\');');
				Call('large_gear_left', 'SleepWidget(\'0\', \'Rotate(0h, 400);\');'); PlaySound('/shared/sounds/ui/menu/slide_1.wav');
				Call('large_gear_right', 'SleepWidget(\'0\', \'Rotate(0h, 400);\');');
				Call('prelogin_options_panel_login', 'SleepWidget(\'100\', \'FadeIn(300);\');');
				Call('com_hider', 'fadein(2500)');
				Call('menu_effects_snow', 'SetVisible(0)');
			"
			onevent1="
				Call('com_hider', 'fadeout(1500);');
				Call('fe2_lower', 'SleepWidget(\'400\', \'SlideY(0h, 450);\');');
				Call('fe2_background', 'SleepWidget(\'800\', \'FadeIn(300);\');');
				Call('fe2_background_new', 'SleepWidget(\'800\', \'FadeOut(200);\');');
				Call('prelogin_loginbox', 'SleepWidget(\'600\', \'SlideY(60h, 800);\');');
				Call('prelogin_loginbox_disabled', 'SleepWidget(\'600\', \'SlideY(60h, 800);\');');
				Call('prelogin_lower', 'SleepWidget(\'600\', \'SlideY(60h, 800); PlaySound(\\\'/shared/sounds/ui/menu/slide_2.wav\\\');\');');

				Call('large_gear_left', 'SleepWidget(\'900\', \'Rotate(-90h, 400); PlaySound(\\\'/shared/sounds/ui/menu/slide_1.wav\\\');\');');
				Call('large_gear_right', 'SleepWidget(\'900\', \'Rotate(90h, 400);\');');
				Call('prelogin_options_panel_login', 'SleepWidget(\'100\', \'FadeOut(300);\');');
			"
		/>
	</if>
	<!-- End Login Animations -->

	<panel name="toggle_latch" color="invisible" noclick="1"
		onevent1="
			if(!_latch and !_latch_status, PlaySound('/shared/sounds/ui/lobby/latch_close.wav'));

			if(!_latch and !_latch_status, Call('latch', 'SetVisible(1)'));

			if(!_latch and !_latch_status, Call('latch_open','setVisible(0)'));
			if(!_latch and !_latch_status, Call('latch','StartAnim(1)'));

			if(!_latch and !_latch_status, Set(_latch, true));
		"
		onevent0="
			if(_latch, PlaySound('/shared/sounds/ui/lobby/latch_close.wav'));
			if(_latch, Call('latch_open', 'SetVisible(1)'));

			if(_latch, Call('latch','setVisible(0)'));
			if(_latch, Call('latch_open','StartAnim(1)'));

			if(_latch, Set(_latch, false));
		"
	/>

	<panel color="0 0 0 .6" noclick="1"/>
	<!-- BG HERE-->
	<instance name="background" />
	<!-- -->
	<panel color="white" visible="0" onload="SetVisible(_is_halloween);"
		y="1h"
		noclick="1"
		width="30h"
		height="30h"
		align="left"
		texture="$invis"
		onshow="SetTexture('/ui/halloween/spiderwebs_left.tga');"
	/>
	<panel color="white" visible="0" onload="SetVisible(_is_halloween);"
		y="1h"
		noclick="1"
		width="30h"
		height="30h"
		align="right"
		texture="$invis"
		onshow="SetTexture('/ui/halloween/spiderwebs.tga');"
	/>

	<!-- News -->
	<instance name="news" visible="0" close_cmd="Set('_mainmenu_currentpanel', 'news'); CallEvent('MainMenuPanelSwitcher');"/>

	<!-- Top Slidedowns -->
	<panel y="2.6h" width="124.8h" height="50.0h" align="center" color="invisible" noclick="true">
		<!-- Game Lobby -->
		<instance name="game_lobby_fe2"/>

	</panel>

	<!-- We interrupt your regularly scheduled programming to provide you special offers on virtual goods! -->
	<if condition="!cg_store2_" >
		<include file="/ui/fe2/store.package"/>
	</if>
	<if condition="cg_store2_" >
		<include file="/ui/fe2/store2.package"/>
		<include file="/ui/fe2/store2_grabbag.package" />
		<instance name="grabBag2" />
	</if>

	<!-- put the grabbag stuff here, it's going to be moved around though -->
	<include file="/ui/fe2/grabbag.package" />	
	<instance name="grabBag" />

	<!-- Now for some Plinko -->
	<include file="/ui/fe2/plinko.package"/>

	<!-- Top Slidedowns Part II: The Slidening -->
	<panel y="2.6h" width="124.8h" height="50.0h" align="center" color="invisible" noclick="true">

		<!-- Wip move of F10 menu - Remove When New Location is finalized -->
		<panel width="70h" height="70h" align="center" noclick="true" float="bottom" padding=".5h" visible="false"><!-- watch="GamePhase" ontrigger="SetVisible(param ge 5);"-->

			<panel width="100%" grow="true" align="center" color="0 0 0 .5">
				<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel width="-50.5%" align="left" grow="true">
					<panel width="100%" grow="true" float="bottom">
						<panel height="2.4h" width="100%" color="invisible" noclick="1"></panel>
						<instance name="empty_slot"/>
						<instance name="empty_slot"/>
						<instance name="empty_slot"/>
						<instance name="empty_slot"/>
						<instance name="empty_slot"/>
					</panel>
					<panel width="100%" grow="true" float="bottom">
						<instance height="2.4h" name="header_bar" lbl="endstats_header_legion_players" lbl_font="dyn_10" show_close="0" />
						<instance name="sharing_panel" index="0"/>
						<instance name="sharing_panel" index="1"/>
						<instance name="sharing_panel" index="2"/>
						<instance name="sharing_panel" index="3"/>
						<instance name="sharing_panel" index="4"/>
					</panel>

				</panel>
				<panel width="-50.5%" align="right" grow="true">
					<panel width="100%" grow="true" float="bottom">
						<panel height="2.4h" width="100%" color="invisible" noclick="1"></panel>
						<instance name="empty_slot"/>
						<instance name="empty_slot"/>
						<instance name="empty_slot"/>
						<instance name="empty_slot"/>
						<instance name="empty_slot"/>
					</panel>
					<panel width="100%" grow="true" float="bottom">
						<instance height="2.4h" name="header_bar" lbl="endstats_header_hellbourne_players" lbl_font="dyn_10" show_close="0" />
						<instance name="sharing_panel" index="5"/>
						<instance name="sharing_panel" index="6"/>
						<instance name="sharing_panel" index="7"/>
						<instance name="sharing_panel" index="8"/>
						<instance name="sharing_panel" index="9"/>
					</panel>
				</panel>
			</panel>


			<panel width="50.5h" grow="true" float="right" padding=".5h" align="center">
				<!-- End match options -->
				<panel width="30h" align="left" noclick="1" grow="1" color="0 0 0 .5">
					<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
					<panel float="bottom" padding=".5h" width="100%" grow="true">
						<instance height="2.5h" name="header_bar" lbl="game_menu_endmatch" lbl_font="dyn_9" show_close="0" />
						<label fity="true" width="-1.8h" align="center" font="dyn_9" color="white" shadow="1" wrap="1" content="game_menu_endmatch_description"/>
						<panel width="-1.2h" height="2.4h" align="center">
							<instance name="button2" button_name="gameMenuButtonButtonRemake" width="-2.5h" font="dyn_10" label="game_menu_remake_button" onclick="CallVote('remake');" watch="VotePermissions" ontrigger="SetEnabled(!param0 and !param1 and param2);"/>
							<image
								width="2.2h" height="2.2h"
								valign="center"
								align="right"
								texture="/ui/elements/tip_mark_up.tga"
								onmouseover="SetTexture('/ui/elements/tip_mark_over.tga'); ShowWidget('menu_tooltip'); Trigger('GameMenuTooltipText', Translate('game_menu_remake_tooltip'));"
								onmouseout="SetTexture('/ui/elements/tip_mark_up.tga'); HideWidget('menu_tooltip');"
							/>
						</panel>
						<panel width="-1.2h" height="2.4h" align="center">
							<instance name="button2" button_name="gameMenuButtonConcede" width="-2.5h" font="dyn_10" label="game_menu_concede_button" onclick="CallVote('concede');" watch="VotePermissions" ontrigger="SetEnabled(!param0 and !param1 and !param3);"/>
							<image
								width="2.2h" height="2.2h"
								valign="center"
								align="right"
								texture="/ui/elements/tip_mark_up.tga"
								onmouseover="SetTexture('/ui/elements/tip_mark_over.tga'); ShowWidget('menu_tooltip'); Trigger('GameMenuTooltipText', Translate('game_menu_concede_tooltip'));"
								onmouseout="SetTexture('/ui/elements/tip_mark_up.tga'); HideWidget('menu_tooltip');"
							/>
						</panel>
						<panel height="0" noclick="1"/>
					</panel>
				</panel>

				<!-- Pause options -->
				<panel width="20h" noclick="1" grow="1" color="0 0 0 .5">
					<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
					<panel width="100%" float="bottom" padding=".5h" noclick="1" grow="1">
						<instance height="2.5h" name="header_bar" lbl="game_menu_flow" lbl_font="dyn_9" show_close="0" />
						<label fity="true" width="-1.8h" align="center" font="dyn_9" color="white" shadow="1" wrap="1" content="game_menu_flow_description"/>
						<panel width="-1.2h" height="2.4h" align="center">
							<instance name="button2" button_name="gameMenuButtonPause" width="-2.5h" font="dyn_10" label="game_menu_pause_button" onclick="CallVote('pause');" watch="VotePermissions" ontrigger="SetEnabled(!param0 and !param1 and param5 and !param6); "/>
							<image
								width="2.2h" height="2.2h"
								valign="center"
								align="right"
								texture="/ui/elements/tip_mark_up.tga"
								onmouseover="SetTexture('/ui/elements/tip_mark_over.tga'); ShowWidget('menu_tooltip'); Trigger('GameMenuTooltipText', Translate('game_menu_pause_tooltip'));"
								onmouseout="SetTexture('/ui/elements/tip_mark_up.tga'); HideWidget('menu_tooltip');"
							/>
						</panel>
						<panel width="-1.2h" height="2.4h" align="center">
							<instance name="button2" button_name="gameMenuButtonUnpause" width="-2.5h" font="dyn_10" label="game_menu_unpause_button" onclick="Unpause();" watch="VotePermissions" ontrigger="SetEnabled(param6 and param7);"/>
							<image
								width="2.2h" height="2.2h"
								valign="center"
								align="right"
								texture="/ui/elements/tip_mark_up.tga"
								onmouseover="SetTexture('/ui/elements/tip_mark_over.tga'); ShowWidget('menu_tooltip'); Trigger('GameMenuTooltipText', Translate('game_menu_unpause_tooltip'));"
								onmouseout="SetTexture('/ui/elements/tip_mark_up.tga'); HideWidget('menu_tooltip');"
							/>
						</panel>
						<panel height="0" noclick="1"/>
					</panel>
				</panel>
			</panel>
		</panel>

		<panel name="main_objects" y="2.6h" width="124.8h" height="100.0h" align="center" color="invisible" noclick="1" />

		<!-- Lost Password -->
		<instance name="retrieve_password" visible="0"/>
		<!-- Player Statistics -->
		<instance name="player_stats" visible="0"/>


		<!-- Learnatorium / HeroDex -->
		<instance name="learnatorium" visible="0" close_cmd="Set('_mainmenu_currentpanel', 'compendium'); CallEvent('MainMenuPanelSwitcher');"/>

		<!-- Change Log -->
		<instance name="change_log" visible="0"/>
		<!-- Replay Viewer -->
		<instance name="offline_replays" visible="0"/>
		
		<!-- RAP -->
		<if condition="cl_Rap2Enable">
			<!-- RAP Conduct Summary -->
			<instance name="rap_status" visible="0" />
		</if>
		
		<!-- Match Making -->
		<instance name="matchmaking" visible="0"/>
		<!-- HoN Tour -->
		<include file="hontour_lobby.package"/>
		<instance name="hontour_lobby" visible="false" />
		<lua file="/ui/scripts/hontour.lua" />

		<!-- Public Games List -->
		<instance name="game_list" visible="0"/>

		<!-- Match Replays -->
		<instance name="match_stats" visible="0"/>
		<!-- Options -->
		<instance name="game_options" visible="0" onclose="Set('_mainmenu_currentpanel', 'game_options'); CallEvent('MainMenuPanelSwitcher');" />

		<!-- Create/Upgrade/etc. account forms -->
		<instance name="form_create_paid_account" visible="0" close_cmd="Set('_mainmenu_currentpanel', 'form_create_paid_account'); CallEvent('MainMenuPanelSwitcher');"/>
		<instance name="form_create_subaccount" visible="0" close_cmd="Set('_mainmenu_currentpanel', 'form_create_subaccount'); CallEvent('MainMenuPanelSwitcher');"/>
		<instance name="form_name_change" visible="0" close_cmd="Set('_mainmenu_currentpanel', 'form_name_change'); CallEvent('MainMenuPanelSwitcher');"/>

		<panel width="30h" grow="true" align="center" valign="center" noclick="1" name="mm_popup_serverfound" visible="false" watch="MatchMakerStatus" ontrigger="If(param0 == 6 and param1, SetVisible(0));" watch1="GamePhase" ontrigger1="If(param gt 0, SetVisible(false));" onevent0="SetVisible(true);" onevent1="SetVisible(false);" onshowlua="GetWidget('midbar_button_hontour'):SetEnabled(false) GetWidget('midbar_button_publicgames'):SetEnabled(false)">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
			<panel float="bottom" width="100%" grow="true">
				<instance
					name="header_bar"
					buttonsize="1.8h"
					height="2.4h"
					lbl="mm_serverfound"
					show_close="false"
					onclick="CallEvent('mm_popup_serverfound', 1);"
				/>
				<panel height="0.5h"/>
				<panel width="100%" grow="true">
					<panel width="-1.0h" align="center" grow="true" noclick="1">
						<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
						<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
						<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
							<panel height="0.5h"/>
							<panel width="100%" grow="true">
								<label width="-4h" font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" textvalign="center" content="mm_serverfound_body"/>
								<panel>
									<animatedimage width="3.5h" height="3.5h" align="right" valign="center" texture="/ui/elements/throb/throb.tga" noclick="true" loop="1" fps="30" onshow="StartAnim(1);" />
								</panel>
								<panel height="3.5h" /><!-- Minimum height -->
							</panel>

							<panel height="0.5h"/>
						</panel>
					</panel>
				</panel>
				<panel height="0.5h"/>
			</panel>
		</panel>

		<panel width="30h" grow="true" align="center" valign="center" noclick="1" name="mm_popup_joinmatch" visible="false" watch="MatchMakerStatus" ontrigger="If(param0 == 6 and param1, SetVisible(0));" watch1="GamePhase" ontrigger1="If(param gt 0, SetVisible(false));" onevent0="SetVisible(true);" onevent1="SetVisible(false);">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" visible="false" />
			<panel float="bottom" width="100%" grow="true" visible="false">
				<instance
					name="header_bar"
					buttonsize="1.8h"
					height="2.4h"
					lbl="mm_joinmatch"
					show_close="false"
					onclick="CallEvent('mm_popup_joinmatch', 1);"
				/>
				<panel height="0.5h"/>
				<panel width="100%" grow="true">
					<panel width="-1.0h" align="center" grow="true" noclick="1">
						<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
						<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
						<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
							<panel height="0.5h"/>
							<panel width="100%" grow="true">
								<label width="-4h" font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" textvalign="center" content="mm_joinmatch_body"/>
								<panel>
									<animatedimage width="3.5h" height="3.5h" align="right" valign="center" texture="/ui/elements/throb/throb.tga" noclick="true" loop="1" fps="30" onshow="StartAnim(1);" />
								</panel>
								<panel height="3.5h" /><!-- Minimum height -->
							</panel>

							<panel height="0.5h"/>
						</panel>
					</panel>
				</panel>
				<panel height="0.5h"/>
			</panel>
		</panel>

		<panel width="30h" grow="true" align="center" valign="center" noclick="1" name="mm_popup_foundmatch" visible="false" watch="MatchMakerStatus" ontrigger="If(param0 == 6 and param1, SetVisible(0));" watch1="GamePhase" ontrigger1="If(param gt 0, SetVisible(false));" onevent0="SetVisible(true);" onevent1="SetVisible(false);">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
			<panel float="bottom" width="100%" grow="true">
				<instance
					name="header_bar"
					buttonsize="1.8h"
					height="2.4h"
					lbl="mm_foundmatch"
					show_close="false"
					onclick="CallEvent('mm_popup_foundmatch', 1);"
				/>
				<panel height="0.5h"/>
				<panel width="100%" grow="true">
					<panel width="-1.0h" align="center" grow="true" noclick="1">
						<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
						<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
						<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
							<panel height="0.5h"/>
							<panel width="100%" grow="true">
								<label width="-4h" font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" textvalign="center" content="mm_foundmatch_body"/>
								<panel>
									<animatedimage width="3.5h" height="3.5h" align="right" valign="center" texture="/ui/elements/throb/throb.tga" noclick="true" loop="1" fps="30" onshow="StartAnim(1);" />
								</panel>
								<panel height="3.5h" /><!-- Minimum height -->
							</panel>

							<panel height="0.5h"/>
						</panel>
					</panel>
				</panel>
				<panel height="0.5h"/>
			</panel>
		</panel>

		<panel width="30h" grow="true" align="center" valign="center" noclick="1" name="mm_popup_noserversfound" visible="false" watch="GamePhase" ontrigger="If(param0 gt 0, SetVisible(false));" onevent0="SetVisible(true);" onevent1="SetVisible(false);">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
			<panel float="bottom" width="100%" grow="true">
				<instance
					name="header_bar"
					buttonsize="1.8h"
					height="2.4h"
					lbl="No servers found."
					show_close="true"
					onclick="CallEvent('mm_popup_noserversfound', 1);"
				/>
				<panel height="0.5h"/>
				<panel width="100%" grow="true">
					<panel width="-1.0h" align="center" grow="true" noclick="1">
						<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
						<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
						<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
							<panel height="0.5h"/>
							<panel width="100%" grow="true">
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="Unable to find a server."/>
							</panel>
							<panel height="0.5h"/>
							<panel width="100%" grow="true">
								<instance
									name="button2"
									button_name="popupServerNotFoundClose"
									width="6h" height="2.5h"
									align="center"
									label="general_close"
									onclick="
										PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_noserversfound', 1);
										If(
											!IsVisible('matchmaking'),
											Split(
												Set('_mainmenu_currentpanel', 'matchmaking'),
												CallEvent('MainMenuPanelSwitcher')
											)
										);

									"
								/>
							</panel>
							<panel height="0.5h"/>
						</panel>
					</panel>
				</panel>
				<panel height="0.5h"/>
			</panel>
		</panel>

	</panel>

	<!-- Matchmaker dialog -->
	<panel
		height="53.0h"
		name="matchmaker_dialog"
		visible="false"
		blockinput="true"
		color="0 0 0 .7"
		noclick="true"
		watch="AMMPopUp"
		ontrigger="If(_game_phase lt 1, SetVisible(true));"
	>
		<instance
			name="alert_box"
			width="40.0h"
			height="15h"
			align="center" valign="center"
			y="-2.4h"
			label="matchmaker_message_header"
			show_close="true"
			body="matchmaker_dialog_body"
			closebtn_click="Call('matchmaker_dialog', 'FadeOut(250);');"
		/>
	</panel>

	<!-- MM Game Loading - Team Loading-->
	<panel
		y="2.5h"
		height="50.0h"
		name="matchmaker_connected_dialog"
		visible="false"
		blockinput="true"
		color="0 0 0 .7"
		noclick="true"
		watch="TMMGamePhase"
		ontrigger="
			SetVisible(param == 1);
			If(
				param gt 0,
				Split(
					HideWidget('mm_popup_joinmatch'),
					HideWidget('mm_popup_serverfound')
				)
			);
		"
		onshowlua="GetWidget('midbar_button_hontour'):SetEnabled(false) GetWidget('midbar_button_publicgames'):SetEnabled(false)"
		watch0="GamePhase" ontrigger0="If(param0 ge 3, SetVisible(0));"
	>
		<panel
			name="mm_loading_3"
			width="25.0h"
			height="22.0h"
			align="center"
			valign="center"
			color="0 0 0 1"
		>
			<frame texture="/ui/info/backdrop.tga" borderthickness="3.0h" color="1 1 1 .5" noclick="1" />
			<frame color="invisible" bordercolor=".2 .2 .2 1" borderthickness="1" noclick="1" />

			<panel y="0.8h" width="-2.0h" align="center" noclick="true">
				<label fity="true" textalign="center" font="dyn_14" color="#ffaa00" shadow="true" content="mm_loading_game" />

				<!-- Player Loading -->
				<panel y="3.8h" width="100%" height="2.0h" valign="top" noclick="true">
					<instance name="mm_loading_progressbar" index="0"
						barwatch0="LoadingProgress" barontrigger0="SetWidth(FtoP(param0));"
						label="mm_you"
						font="dyn_10"
						height="2.0h"
						visible="true"
					/>
				</panel>

				<!-- Team Loading Lights -->
				<label y="7.3h" fity="true" width="100%" textalign="center" font="dyn_11" color="1 1 1 1" shadow="true" noclick="true" content="mm_otherplayers" />
				<panel grow="true" growinvis="false" y="9.1h" height="4.0h" float="right" noclick="true" regrow="true">
					<instance name="mm_loading_status_light" index="0" />
					<instance name="mm_loading_status_light" index="1" />
					<instance name="mm_loading_status_light" index="2" />
					<instance name="mm_loading_status_light" index="3" />
					<instance name="mm_loading_status_light" index="4" />
					<instance name="mm_loading_status_light" index="5" />
					<instance name="mm_loading_status_light" index="6" />
					<instance name="mm_loading_status_light" index="7" />
					<instance name="mm_loading_status_light" index="8" />
					<instance name="mm_loading_status_light" index="9" />
				</panel>

				<label fity="true" y="-1.5h" textalign="left" valign="bottom" wrap="true" font="dyn_9" color="1 1 1 1" shadow="true" content="mm_gameloading_msg" />
			</panel>

		</panel>

	</panel>

	<!-- MM Accept Game Prompt-->
	<panel
		y="2.5h"
		height="50.0h"
		name="matchmaker_accept_game_dialog"
		visible="false"
		blockinput="true"
		color="0 0 0 .7"
		watch="TMMMatchPendingAccept" ontriggerlua="self:SetVisible(tonumber(param0) > 0)"
		onshowlua="	GetWidget('matchmaker_accept_button'):SetVisible(1)
					GetWidget('matchmaker_accepted_label'):SetVisible(0)
					local SoundFunction = function(wakeFunction)
						PlaySound('/shared/sounds/ui/lobby/persistent_group_2.ogg')
						self:Sleep((GetCvarInt('_accept_prompt_sound_replay_time', true) or 15000), wakeFunction)
					end

					SoundFunction(SoundFunction)"
		onhidelua="self:DoEvent()"
		oneventlua="self:Sleep(1, function() end)"
	>
		<panel
			width="30.0h"
			align="center"
			valign="center"
			color="0 0 0 1"
			grow="1"
		>
			<frame texture="/ui/info/backdrop.tga" borderthickness="3.0h" color="1 1 1 .5" noclick="1" />
			<frame color="invisible" bordercolor=".2 .2 .2 1" borderthickness="1" noclick="1" />

			<panel grow="1" y="0.8h" width="-2.0h" align="center" noclick="true" float="bottom" padding="1.5h">
				<label fity="true" textalign="center" font="dyn_14" color="#ffaa00" shadow="true" content="mm_game_found" />
				<label textalign="center" font="dyn_12" fity="1" shadow="true" color="white" content="mm_timeout_desc" wrap="1" />
				<panel height="2.5h" >
					<panel width="-1h" align="center">
						<panel color="black" />
						<panel color="green" align="right" watch="TMMMatchPendingAccept"
							ontriggerlua="
								if (tonumber(param1) ~= 0) then
									self:SetWidth(FtoP((param0 / param1)))
								else
									self:SetWidth(0)
								end"
						/>

						<frame color="invisible" bordercolor=".2 .2 .2 1" borderthickness="1" noclick="1" />

						<label y="0.25h" textalign="center" textvalign="center" font="dyn_12" fity="1" shadow="true" outline="1" color="white" watch="TMMMatchPendingAccept" ontriggerlua="self:SetText(Translate('mm_timeout_time', 'seconds', round(param0, 1))) self:SetColor('1 '..(param0 / param1)..' '..(param0 / param1))" />
					</panel>
				</panel>
				<label textalign="center" font="dyn_12" fity="1" shadow="true" color="white" watch="TMMMatchPendingAccept" ontriggerlua="self:SetText(Translate('mm_players_accepted', 'total', param2, 'accepted', param3))" />

				<panel height="3.0h" >
					<instance
						name="button2"
						button_name="matchmaker_accept_button"
						width="-2h" align="center" height="100%"
						font="dyn_12" label="mm_accept_button"
						onclicklua="AcceptPendingMatch()
									GetWidget('matchmaker_accepted_label'):SetVisible(1)
									GetWidget('matchmaker_accept_game_dialog'):DoEvent()
									self:SetVisible(0)"
					/>
					<label y="0.2h" name="matchmaker_accepted_label" fity="true" textalign="center" font="dyn_16" color="#ffaa00" shadow="true" content="mm_accepted" visible="0" />
				</panel>
				<panel height="0.1h" />
			</panel>
		</panel>

	</panel>

	<!-- Lower Content -->
	
	<!-- Garena -->
	<if condition="cl_GarenaEnable">
		<panel name="fe2_lower" y="0" height="39.5h" valign="bottom" color="0 0 0 1" noclick="1">
			<!-- Bottom Background Always Visible-->
			<image width="192.0h" height="48.0h" align="center" valign="bottom" texture="/ui/fe2/mainmenu/bottom_background.tga" noclick="1"/>

			<panel height="100%" align="center" width="122.8h" valign="bottom" noclick="1"><!-- Offset quests and the communicator down a tad -->
				<!-- Quests / Communicator container -->
				<panel height="-0.5h" valign="bottom" noclick="1">
					<!-- Communicator -->
					<panel name="communicator_container" color="black" visible="0" noclick="1">
						<instance name="communicator" visible="true"/>

					</panel>

					<panel name="quests_container" color="black" visible="1" noclick="1">
						<instance name="quests"/>
					</panel>
				</panel>

				<!-- Quests / Communicator tabs -->
				<panel name="communicatorTabsHasQuests" height="3.5h" y="1h" valign="top" noclick="1">
					<panel y="0.25h" width="100%" height="100%" align="center" noclick="1">
						<!-- Chat Tab -->
						<panel width="49.9%" noclick="1" >
							<instance name="lower_tab" id="chat_tab"
							onclicklua="UIManager.GetInterface('main'):HoNMainF('SelectChat')"

								onmouseoverlua="Trigger('genericMainFloatingTip', 'true', '24.0h', '', 'communicator_tab_chat', 'communicator_tab_chat_tip', '', '', '22', '-22')"
								onmouseoutlua="Trigger('genericMainFloatingTip', 'false', '', '', '', '', '', '', '', '')"

							/>

							<label name="chat_tab_label" textalign="center" textvalign="center" font="dyn_14" content="communicator_tab_chat" shadow="true" noclick="1"
								onevent1lua="self:SetColor('#ffc600')"
								onevent0lua="self:SetColor('#536273')"
							/>

						</panel>

						<!-- Quest Tab -->
						<panel width="49.9%" align="right" noclick="1" >
							<instance name="lower_tab" id="quest_tab"
							onclicklua="UIManager.GetInterface('main'):HoNMainF('SelectQuests')"
								disabledmouseover="true"
								disabledmouseout="true"
							/>

							<panel noclick="true" hmargin="2" clip="true" onshowlua="self:SetClip(true)" onhidelua="self:SetClip(false)">
								<panel name="questsProgresBarTab" utile="true" width="20%" noclick="true" texture="/ui/fe2/quests/textures/progress_bar_base.tga">
									<panel name="questsProgresBarTabCap" align="right" width="12.5@" noclick="true" texture="/ui/fe2/quests/textures/progress_bar_cap.tga"/>
								</panel>
							</panel>

							<label name="quest_tab_label" textalign="center" textvalign="center" font="dyn_14" content="communicator_tab_quests" shadow="true" noclick="1"
								onevent1lua="self:SetColor('#ffc600')"
								onevent0lua="self:SetColor('#536273')"
							/>
						</panel>
					</panel>
					<panel height="2" valign="bottom" y="0.25h" color="black" noclick="1"/>
				</panel>

				<panel name="communicatorTabsNoQuests" height="0h" y="1h" valign="top" noclick="1" visible="false" onshowlua="GetWidget('chat_tab_noquests'):DoEventN(0)">
					<panel y="0.25h" width="100%" height="100%" align="center" noclick="true" visible="false">
						<!-- Chat Tab -->
						<panel width="100%" noclick="1" >
							<instance name="lower_tab" id="chat_tab_noquests"
								onclicklua="-- UIManager.GetInterface('main'):HoNMainF('SelectChat')"
								onmouseoverlua="-- Trigger('genericMainFloatingTip', 'true', '24.0h', '', 'communicator_tab_chat', 'communicator_tab_chat_tip', '', '', '22', '-22')"
								onmouseoutlua="-- Trigger('genericMainFloatingTip', 'false', '', '', '', '', '', '', '', '')"
							/>

							<label textalign="center" textvalign="center" font="dyn_18" content="communicator_tab_chat" noclick="1" y="-0.25h"
								onevent1lua="self:SetColor('#ffc600')"
								onevent0lua="self:SetColor('#536273')"
							/>
						</panel>
					</panel>
					<panel noclick="true" height="2" valign="bottom" y="0.25h" color="black" visible="false"/>
				</panel>

				<panel name="com_hider" align="center" width="128h" color="black"/>
				<panel name="com_hider2" align="center" width="128h" color="black" visible="false"/>

			</panel>

			<!-- Lobby Hero Info -->
			<instance name="hero_info_panel"/>
		</panel>
		
		<!-- Pre-Login Lower Cover -->
		<panel name="prelogin_lower" height="37.4h" valign="bottom" color="invisible" visible="1" noclick="1">

			<!-- Left Collapsing Pieces -->
			<image name="lower_cover_left_1" x="-61.5h" y="-2.5h" width="24.0h" height="24.0h" align="center" texture="/ui/fe2/mainmenu/left_panel3_bot.tga" noclick="1"/>
			<image name="lower_cover_left_2" x="-43.7h" y="-2.5h" width="24.0h" height="48.0h" align="center" texture="/ui/fe2/mainmenu/left_panel2_bot.tga" noclick="1"/>

			<!-- Right Collapsing Pieces -->
			<image name="lower_cover_right_1" x="61.5h" y="-2.5h" width="24.0h" height="24.0h" align="center" texture="/ui/fe2/mainmenu/right_panel3_bot.tga" noclick="1"/>
			<image name="lower_cover_right_2" x="43.7h" y="-2.5h" width="24.0h" height="48.0h" align="center" texture="/ui/fe2/mainmenu/right_panel2_bot.tga" noclick="1"/>

			<panel width="48.0h" height="48.0h" align="center" valign="bottom" noclick="1">
				<!-- Garena -->
				<image x="-0.2h" texture="/ui/fe2/mainmenu/behind_center.tga" noclick="1"/>

				<image width="200%" align="center" texture="/ui/fe2/mainmenu/center_bot.tga" noclick="1"/>
				
				<!-- Login Options -->
				<panel name="prelogin_options_panel_login" noclick="1">
					<panel name="prelogin_options_panel" x="-0.2h" y="27.5h" width="16.0h" height="15.5h" align="center" noclick="1">
						<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="0 0 0 1"/>
						<frame texture="/ui/frames/roundframe.tga" color="#2c4b6c" borderthickness="0.5h"/>

						<panel y="1.0h" grow="true" width="-2.0h" align="center" float="bottom" padding="0.5h" noclick="1">
							<panel height="2.0h" noclick="1">
								<instance
									name="Noptions_checkbox"
									tip_id="main_login_save_username_tip"
									align="left"
									image="rememberlogin_box"
									font="dyn_10" label="main_login_save_username"
									cvar="login_rememberName"
									onclick="If(!login_rememberName, Set(login_rememberPassword, false)); SaveLoginInfo();"
								/>
							</panel>
							<panel height="2.0h" noclick="1">
								<instance
									name="Noptions_checkbox"
									tip_id="main_login_auto_auth_tip"
									align="left"
									font="dyn_10" label="main_login_auto_auth"
									cvar="login_rememberPassword"
									onclick="If(login_rememberPassword, Set(login_rememberName, true)); SaveLoginInfo();"
								/>
							</panel>
							<panel height="2.0h" noclick="1">
								<instance
									name="Noptions_checkbox"
									tip_id="main_login_invis_mode_tip"
									align="left"
									font="dyn_10" label="main_login_invis_mode"
									cvar="login_invisible"
									onclick="If(login_invisible, SetSave(login_invisible, true), SetSave(login_invisible, false));"
								/>
							</panel>
							<panel height="1" color=".2 .2 .2 1"/>
							<anchor y="8.5h"/>
							<instance
								name="button2"
								button_name="loginButtonCreateAccount"
								width="100%" height="2.2h"
								align="center"
								font="dyn_9" label="main_create_account_header"
								onclick="Set('_mainmenu_currentpanel', 'form_create_paid_account'); CallEvent('MainMenuPanelSwitcher');"
								onshow="If(ui_disableAccountCreation, SetEnabled(false));"
							/>
							<instance
								name="button2"
								button_name="loginButtonLostInfo"
								width="100%" height="2.2h"
								align="center"
								font="dyn_9" label="main_login_lost_pass"
								onclick="Set('_mainmenu_currentpanel', 'retrieve_password'); CallEvent('MainMenuPanelSwitcher');"
								onshow="If(ui_disableAccountCreation, SetEnabled(false));"
							/>
						</panel>
					</panel>
				</panel>

				<!-- Garena NO direct start warning -->
				<panel name="prelogin_options_panel_nologin" visible="0" noclick="1">
					<panel x="-0.2h" y="27.5h" width="16.0h" height="15.5h" align="center" noclick="true" name="prelogin_options_panel_warning">
						<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="0 0 0 1"/>
						<frame texture="/ui/frames/roundframe.tga" color="#2c4b6c" borderthickness="0.5h"/>

						<panel noclick="1" name="main_logging_in_warn" visible="0" >
							<panel height="-1.0h" width="-1.0h" align="center" valign="center" visible="false" color="0 0 0 1" noclick="1" watch="LoginStatus" ontrigger="SetVisible(!StringEquals(param0, 'success'));">
								<label
									y="0h"
									width="100%" height="-3.5h"
									wrap="true"
									textalign="center" textvalign="top"
									shadow="true" font="dyn_11" color="1.0 0.2 0.2 1"
									noclick="true"
									name="main_status_label"
									content="main_label_login_garena"
								/>
								<instance button_name="main_login_launcher_skip"
									name="button2"
									visible="false"
									y="-3.7h"
									width="13h" height="2.5h"
									align="center" valign="bottom"
									font="dyn_12" label="I'm a Ninja"
									watch="LoginStatus"
									onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
									ontrigger="SetVisible(!StringEmpty(login_password#'') and !StringEmpty(login_name#'') and StringEquals(param0, 'failure') and ui_dev and (releaseStage_dev or releaseStage_test));"
									onclick="Login();"
								/>
								<instance
									name="button2"
									button_name="loginButtonGarenaDirectStartQuit"
									y="-1.0h"
									width="13h" height="2.5h"
									align="center" valign="bottom"
									font="dyn_12" label="general_quit"
									onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
									onclick="If(ui_useClientLoginSystem, HideWidget('main_status'), Quit());"
									labelwatch="UIUpdateRegion LoginStatus"
									labelontrigger="If(ui_useClientLoginSystem, SetText(Translate('general_ok')), SetText(Translate('general_quit')));"
								/>
							</panel>
						</panel>
					</panel>
				</panel>

				<!-- Login Errors / Feedback -->
				<panel name="main_status" y="18h" width="16.0h" height="15.5h" align="center" valign="center" visible="0" noclick="1"
					watch="LoginStatus"
					ontrigger="SetVisible(!StringEquals(param0, 'offline')); if(StringEquals(param0, 'success') or StringEquals(param0, 'failure'), Set(login_temp_password, ''));"
				>
					<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="0 0 0 1"/>
					<frame texture="/ui/frames/roundframe.tga" color="#2c4b6c" borderthickness="0.5h"/>

					<panel name="main_logging_in" noclick="1">
						<panel height="-1.0h" width="-1.0h" align="center" valign="center" visible="0" color="0 0 0 1" noclick="1"
								watch="LoginStatus"
								ontrigger="SetVisible(!StringEquals(param0, 'success'));"
						>
							<label name="main_login_status_textbox_1"
									y="0h"
									width="100%" height="-3.5h"
									wrap="1"
									textalign="center" textvalign="top"
									shadow="true" font="dyn_11" color="1 0.7 0 1"
									noclick="1"
									watch="LoginStatus"
									ontrigger="
												If(StringEquals(param0, 'waiting'), SetText(Translate('main_label_login_status_waiting')));
												If(StringEquals(param0, 'waiting'), SetColor('1 0.7 0 1'));
												If(StringEquals(param0, 'success'), SetText(Translate('main_label_login_status_success')));
												If(StringEquals(param0, 'success'), Split(Set(news_auto_displayed, 0), SetColor('0.2 1.0 0.2 1')));
												If(StringEquals(param0, 'failure') and !IsVisible('news') and (SearchString(param1, 'Password', 0) == -1) and !StringEquals(param1, '#GA002000'), Split(Set(news_auto_displayed, 0), Trigger('RequestMessageOfTheDay')));
												If(StringEquals(param0, 'failure'), SetText(Translate('main_label_login_status_failed', 'reason', Translate(param1))));
												If(StringEquals(param0, 'failure') and StringEquals(param1, 'SEA_DENY'), Split(SetText(Translate('general_error_sea_deny')), Call('sea_garena_prompt', 'FadeIn(250);')));
												If(StringEquals(param0, 'failure'), PlaySound('/shared/sounds/ui/login_fail.wav'), SetColor('1.0 0.2 0.2 1'));
												"
							/>
							<instance
									name="button2" button_name="main_login_cancel_button"
									y="-1.0h"
									width="13h" height="2.5h"
									align="center" valign="bottom"
									font="dyn_12" label="general_cancel"
									watch="LoginStatus"
									onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
									ontrigger="SetVisible(StringEquals(param0, 'waiting'));"
									onclick="CancelLogin(); If(VarExists('_autologin_loggedin') and login_rememberPassword, Split(ShowWidget('auto_auth_txt'), Set('login_rememberPassword', false), Set('login_temp_password', '')));"
							/>
							<instance
									name="button2" button_name="main_login_failure_skip" visible="false"
									y="-3.7h"
									width="13h" height="2.5h"
									align="center" valign="bottom"
									font="dyn_12" label="I'm a Ninja"
									watch="LoginStatus"
									onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
									ontrigger="SetVisible(!StringEmpty(login_password#'') and !StringEmpty(login_name#'') and StringEquals(param0, 'failure') and ui_dev and (releaseStage_dev or releaseStage_test));"
									onclick="ShowWidget('prelogin_options_panel'); HideWidget('prelogin_options_panel_warning');"
							/>
							<instance
									name="button2" button_name="main_login_failure_cancel"
									y="-1.0h"
									width="13h" height="2.5h"
									align="center" valign="bottom"
									font="dyn_12" label="general_ok"
									watch="LoginStatus"
									onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
									ontrigger="SetVisible(StringEquals(param0, 'failure'));"
									onclick="If(ui_useClientLoginSystem, HideWidget('main_status'), Quit());"
									labelwatch="UIUpdateRegion LoginStatus"
									labelontrigger="If(ui_useClientLoginSystem, SetText(Translate('general_ok')), SetText(Translate('general_quit')));"
							/>
						</panel>
					</panel>
				</panel>

				<!-- Patch Updater
				Down Y = 45%
				Up Y = 2%
				-->
				<panel name="patch_updater" y="45%" noclick="1">
					<image x="-0.6h" y="-1.6h" valign="top" texture="/ui/fe2/mainmenu/chains.tga" noclick="1"/>
					<image texture="/ui/fe2/mainmenu/loading_panel.tga" noclick="1"/>
					
					<!-- Confirmation panel -->
					<panel name="main_update_confirm" noclick="true">

						<panel y="-2.0h" width="21.0h" height="17.0h" align="center" valign="bottom" noclick="1">
							<panel grow="true" width="100%" valign="center" float="bottom" noclick="1">
								<label fity="true" fitypadding="2.0h" font="dyn_11" wrap="true" color="yellow" shadow="1" content="main_label_update_avail" noclick="1"/>
								<panel height="2.4h" noclick="1">
									<!-- No Btn -->
									<instance
										name="button2"
										button_name="updateFoundCancel"
										width="9.0h"
										align="left"
										font="dyn_10"
										label="general_no"
										onclick="UpdateConfirm(false);"
									/>

									<!-- Yes Btn -->
									<instance
										name="button2"
										button_name="updateFoundOK"
										width="9.0h"
										align="right"
										font="dyn_10"
										label="general_yes"
										onclick="UpdateConfirm(true);"
									/>
									<!--onrightclick="UpdateConfirm(true, true);"-->
								</panel>
							</panel>
						</panel>
					</panel>

					<!-- Download panel -->
					<panel name="main_update_download" noclick="1">
						<!-- Update Progress Data -->
						<panel y="27.5h" width="21.4h" height="12.5h" align="center" color="invisible" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" borderthickness=".6h" align="left" valign="top"/>
							<frame texture="/ui/frames/roundframe.tga" color="#2c4b6c" borderthickness=".6h"/>

							<panel y="0.5h" height="4.2h" width="-1.0h" align="center">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="0 0 0 .2"/>
								<frame texture="/ui/frames/roundframe.tga" color="#2c4b6c" borderthickness="0.5h"/>
								<label y="0.5h" height="1.3h" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_12" color="#3abde7" noclick="1" watch="UpdateMessage" ontrigger="If(param == 1, SetText(Translate('main_label_update_calculating')), SetText(Translate('main_label_update_downloading')));" />
								<label x="-0.4h" y="2.4h" height="1.1h" width="50%" textvalign="center" textalign="right" shadow="true" font="dyn_9" color="1 0.7 0 1" noclick="1" watch="UpdateLocalVersion" ontrigger="SetText(Translate('main_label_old_version', 'version', param));" />
								<label x="0.4h" y="2.4h" height="1.1h" width="50%" textvalign="center" textalign="left" align="right" shadow="true" font="dyn_9" color="1 0.7 0 1" noclick="1" watch="UpdateCurVersion" ontrigger="SetText(Translate('main_label_new_version', 'version', param));" />
							</panel>
							<panel height="-5.2h" align="center" valign="bottom" noclick="true" float="bottom" padding="0.2h" passivechildren="true">
								<label fity="true" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_9" color="1 0.7 0" watch="UpdateFilesLeft" ontrigger="SetText(Translate('main_label_update_files', 'count', param0, 'total', param1));" watch1="UpdateMessage" ontrigger1="SetVisible(param != 1 and param != 7);" />
								<label fity="true" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_9" color="1 0.7 0" watch="UpdateProgress" ontrigger="SetText(Translate('main_label_update_progress', 'count', param0, 'total', param1));" watch1="UpdateMessage" ontrigger1="SetVisible(param != 1 and param != 7);" />
								<label fity="true" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_9" color="1 0.7 0" watch="UpdateSpeed" ontrigger="SetText(Translate('main_label_update_speed', 'speed', param));" watch1="UpdateMessage" ontrigger1="SetVisible(param != 1 and param != 7);" />
								<label fity="true" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_9" color="1 0.7 0" watch="UpdateTime" ontrigger="SetText(Translate('main_label_update_time', 'time', param));" watch1="UpdateMessage" ontrigger1="SetVisible(param != 1 and param != 7);" />
							</panel>
						</panel>

						<!-- Update Bar -->
						<panel y="40.5h" width="21.4h" height="2.6h" align="center" valign="top" noclick="true">
							<panel height="3.0h" align="center" valign="top" color="red">
								<image height="100%" texture="/ui/mainmenu/update_bar_bg.tga" />
								<panel width="100%" height="100%" align="center">
									<panel watch="UpdatePercent" ontrigger="SetVisible(param != 2); SetWidth(FtoP(param));">
										<image watch="UpdatePercent" ontrigger="SetUScale(1 / param);" texture="/ui/mainmenu/update_bar_fg.tga" noclick="1" />
									</panel>
									<label height="100%" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_12" color="1 1 1 1" noclick="1" watch="UpdatePercent" ontrigger="SetVisible(param != 2); SetText(Round(param * 100) # '%');" />
									<frame texture="/ui/frames/black_corners.tga" color="1 1 1 1" borderthickness="0.6h"/>
									<frame texture="/ui/frames/roundframe.tga" color="#2c4b6c" borderthickness="0.6h"/>
								</panel>
							</panel>
						</panel>

						<!-- Cancel Btn -->
						<instance
							name="button2"
							button_name="updateDownloadingCancel"
							y="-1.8h"
							width="16.0h" height="2.2h"
							valign="bottom"
							align="center"
							font="dyn_9"
							label="main_menu_cancel_update"
							onclick="CancelUpdate(); Logout();"
							watch="UpdateMessage" ontrigger="SetVisible(param != 1);"
						/>
					</panel>

				</panel>

				<!-- Big Center Gear -->
				<image name="login_gear" y="-11.7h" texture="/ui/fe2/mainmenu/center_gear.tga" noclick="true"/>
			</panel>
		</panel>
	</if>
	
	<!-- NAEU -->
	<if condition="!cl_GarenaEnable">
		<panel name="fe2_lower" y="40.0h" height="39.5h" valign="bottom" color="0 0 0 1" noclick="1">
			<!-- Bottom Background Always Visible-->
			<image width="192.0h" height="48.0h" align="center" valign="bottom" texture="/ui/fe2/mainmenu/bottom_background_new.tga" visible="1" noclick="1"/>

			<panel height="100%" align="center" width="122.8h" valign="bottom" noclick="1"><!-- Offset quests and the communicator down a tad -->
				<!-- Quests / Communicator container -->
				<panel name="questsCommunicatorContainer" height="-0.5h" valign="bottom" noclick="1">
					<!-- Communicator -->
					<panel name="communicator_container" color="black" visible="false" noclick="1">
						<instance name="communicator" visible="true"/>
					</panel>

					<panel name="quests_container" color="black" visible="true" noclick="1">
						<instance name="quests" />
					</panel>
				</panel>

				<!-- Quests / Communicator tabs -->
				<panel name="communicatorTabsHasQuests" height="3.5h" y="1h" valign="top" noclick="1">
					<panel y="0.25h" width="100%" height="100%" align="center" noclick="true" >
						<!-- Chat Tab -->
						<panel width="49.9%" noclick="1" >
							<instance name="lower_tab" id="chat_tab"
								onclicklua="
									UIManager.GetInterface('main'):HoNMainF('SelectChat')
									trackedUserFocus:logFocus('communicatorTab', 'chat')
								"
								onmouseoverlua="Trigger('genericMainFloatingTip', 'true', '24.0h', '', 'communicator_tab_chat', 'communicator_tab_chat_tip', '', '', '22', '-22')"
								onmouseoutlua="Trigger('genericMainFloatingTip', 'false', '', '', '', '', '', '', '', '')"
							/>

							<label name="chat_tab_label" textalign="center" textvalign="center" font="dyn_14" content="communicator_tab_chat" shadow="true" noclick="1"
								onevent1lua="self:SetColor('#ffc600')"
								onevent0lua="self:SetColor('#536273')"
							/>
						</panel>

						<!-- Quest Tab -->
						<panel width="49.9%" align="right" noclick="1" >
							<instance name="lower_tab" id="quest_tab"
								onclicklua="
									UIManager.GetInterface('main'):HoNMainF('SelectQuests')
									trackedUserFocus:logFocus('communicatorTab', 'quests')
								"
								disabledmouseover="true"
								disabledmouseout="true"
							/>

							<panel noclick="true" hmargin="2" clip="true" onshowlua="self:SetClip(true)" onhidelua="self:SetClip(false)">
								<panel name="questsProgresBarTab" utile="true" width="20%" noclick="true" texture="/ui/fe2/quests/textures/progress_bar_base.tga">
									<panel name="questsProgresBarTabCap" align="right" width="12.5@" noclick="true" texture="/ui/fe2/quests/textures/progress_bar_cap.tga"/>
								</panel>
							</panel>

							<label name="quest_tab_label" textalign="center" textvalign="center" font="dyn_14" content="communicator_tab_quests" shadow="true" noclick="1"
								onevent1lua="self:SetColor('#ffc600')"
								onevent0lua="self:SetColor('#536273')"
							/>

						</panel>
					</panel>
					<panel height="2" valign="bottom" y="0.25h" color="black" noclick="1"/>
				</panel>

				<panel name="communicatorTabsNoQuests" height="0h" y="1h" valign="top" noclick="1" visible="false"
					onshowlua="GetWidget('chat_tab_noquests'):DoEventN(0)"
				>
					<panel y="0.25h" width="100%" height="100%" align="center" noclick="true" visible="false">
						<!-- Chat Tab -->
						<panel width="100%" noclick="1" >
							<instance name="lower_tab" id="chat_tab_noquests"
								onclicklua="-- UIManager.GetInterface('main'):HoNMainF('SelectChat')"
								onmouseoverlua="-- Trigger('genericMainFloatingTip', 'true', '24.0h', '', 'communicator_tab_chat', 'communicator_tab_chat_tip', '', '', '22', '-22')"
								onmouseoutlua="-- Trigger('genericMainFloatingTip', 'false', '', '', '', '', '', '', '', '')"
							/>

							<label textalign="center" textvalign="center" font="dyn_18" content="communicator_tab_chat" noclick="1" y="-0.25h"
								onevent1lua="self:SetColor('#ffc600')"
								onevent0lua="self:SetColor('#536273')"
							/>
						</panel>
					</panel>
					<panel noclick="true" height="2" valign="bottom" y="0.25h" color="black" visible="false" />
				</panel>

				<panel name="com_hider" align="center" width="128h" color="black"/>
				<panel name="com_hider2" align="center" width="128h" color="black" visible="false"/>

			</panel>

			<!-- Lobby Hero Info -->
			<instance name="hero_info_panel"/>
		</panel>
		
		<!-- Pre-Login Lower Cover -->
		<panel name="prelogin_lower" y="0h" height="37.4h" valign="bottom" color="invisible" visible="1" noclick="1">

			<panel width="100%" height="48.0h" align="center" valign="bottom" noclick="1">
				
				<!-- Login Options -->
				<panel name="prelogin_options_panel_login" align="left" color="invisible" noclick="1">
					<panel x="2.2h" y="26.5h" width="16.0h" height="15.5h" align="left" noclick="true" name="prelogin_options_panel">

						<panel x="-2h" y="2.0h" grow="true" valign="bottom" width="-2.0h" align="center" float="bottom" padding="0.5h" noclick="true">

							<anchor y="8.3h"/>
							
							<panel noclick="1" height="2.2h">
								<instance
									name="Noptions_checkbox"
									align="center"
									image="rememberlogin_box"
									font="dyn_9" label="general_login_animation"
									cvar="cg_enableLoginAnimation"
								/>
							</panel>
							
							<instance
								name="button2"
								button_name="loginButtonCreateAccount"
								width="100%" height="2.2h"
								align="center"
								font="dyn_9" label="main_create_account_header"
								onclick="Set('_mainmenu_currentpanel', 'form_create_paid_account'); CallEvent('MainMenuPanelSwitcher');"
								onshow="If(ui_disableAccountCreation, SetEnabled(false));"
							/>
							<instance
								name="button2"
								button_name="loginButtonLostInfo"
								width="100%" height="2.2h"
								align="center"
								font="dyn_9" label="main_login_lost_pass"
								onclick="Set('_mainmenu_currentpanel', 'retrieve_password'); CallEvent('MainMenuPanelSwitcher');"
								onshow="If(ui_disableAccountCreation, SetEnabled(false));"
							/>

						</panel>
					</panel>
				</panel>

				<!-- Garena NO direct start warning -->
				<panel name="prelogin_options_panel_nologin" visible="0" noclick="1">
					<panel name="prelogin_options_panel_warning" x="-0.2h" y="27.5h" width="16.0h" height="15.5h" align="center" noclick="1">
						<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="0 0 0 1"/>
						<frame texture="/ui/frames/roundframe.tga" color="#2c4b6c" borderthickness="0.5h"/>

						<panel name="main_logging_in_warn" visible="0" noclick="1">
							<panel height="-1.0h" width="-1.0h" align="center" valign="center" visible="0" color="0 0 0 1" noclick="1"
								watch="LoginStatus"
								ontrigger="SetVisible(!StringEquals(param0, 'success'));"
							>
								<label
									name="main_status_label"
									y="0h"
									width="100%" height="-3.5h"
									wrap="1"
									textalign="center" textvalign="top"
									shadow="1" font="dyn_11" color="1.0 0.2 0.2 1"
									content="main_label_login_garena"
									noclick="1"
								/>
								<instance button_name="main_login_launcher_skip"
									name="button2"
									visible="0"
									y="-3.7h"
									width="13h" height="2.5h"
									align="center" valign="bottom"
									font="dyn_12" label="I'm a Ninja"
									watch="LoginStatus"
									onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
									ontrigger="SetVisible(!StringEmpty(login_password#'') and !StringEmpty(login_name#'') and StringEquals(param0, 'failure') and ui_dev and (releaseStage_dev or releaseStage_test));"
									onclick="Login();"
								/>
								<instance
									name="button2"
									button_name="loginButtonGarenaDirectStartQuit"
									y="-1.0h"
									width="13h" height="2.5h"
									align="center" valign="bottom"
									font="dyn_12" label="general_quit"
									onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
									onclick="If(ui_useClientLoginSystem, HideWidget('main_status'), Quit());"
									labelwatch="UIUpdateRegion LoginStatus"
									labelontrigger="If(ui_useClientLoginSystem, SetText(Translate('general_ok')), SetText(Translate('general_quit')));"
								/>
							</panel>
						</panel>
					</panel>
				</panel>

				<!-- Patch Updater
				Down Y = 45%
				Up Y = 2%
				-->
				<panel name="patch_updater"
					y="45%"
					noclick="true"
				>
					<!-- Confirmation panel -->
					<panel name="main_update_confirm" noclick="1">
						<panel y="-2.0h" width="21.0h" height="17.0h" align="center" valign="bottom" noclick="1">
							<panel grow="true" width="100%" valign="center" float="bottom" noclick="1">
								<label fity="true" fitypadding="2.0h" font="dyn_11" wrap="true" color="yellow" shadow="true" content="main_label_update_avail" noclick="1"/>
								<panel height="2.4h" noclick="1">
									<!-- No Btn -->
									<instance
										name="button2"
										button_name="updateFoundCancel"
										width="9.0h"
										align="left"
										font="dyn_10"
										label="general_no"
										onclick="UpdateConfirm(false);"
									/>

									<!-- Yes Btn -->
									<instance
										name="button2"
										button_name="updateFoundOK"
										width="9.0h"
										align="right"
										font="dyn_10"
										label="general_yes"
										onclick="UpdateConfirm(true);"
									/>
								</panel>
							</panel>
						</panel>
					</panel>

					<!-- Download panel -->
					<panel name="main_update_download" noclick="1">
						<!-- Update Progress Data -->
						<panel y="27.5h" width="21.4h" height="12.5h" align="center" color="invisible" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" borderthickness=".6h" align="left" valign="top"/>
							<frame texture="/ui/frames/roundframe.tga" color="#2c4b6c" borderthickness=".6h"/>

							<panel y="0.5h" height="4.2h" width="-1.0h" align="center">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="0 0 0 .2"/>
								<frame texture="/ui/frames/roundframe.tga" color="#2c4b6c" borderthickness="0.5h"/>
								<label y="0.5h" height="1.3h" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_12" color="#3abde7" noclick="1" watch="UpdateMessage" ontrigger="If(param == 1, SetText(Translate('main_label_update_calculating')), SetText(Translate('main_label_update_downloading')));" />
								<label x="-0.4h" y="2.4h" height="1.1h" width="50%" textvalign="center" textalign="right" shadow="true" font="dyn_9" color="1 0.7 0 1" noclick="1" watch="UpdateLocalVersion" ontrigger="SetText(Translate('main_label_old_version', 'version', param));" />
								<label x="0.4h" y="2.4h" height="1.1h" width="50%" textvalign="center" textalign="left" align="right" shadow="true" font="dyn_9" color="1 0.7 0 1" noclick="1" watch="UpdateCurVersion" ontrigger="SetText(Translate('main_label_new_version', 'version', param));" />
							</panel>
							<panel height="-5.2h" align="center" valign="bottom" noclick="true" float="bottom" padding="0.2h" passivechildren="true">
								<label fity="true" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_9" color="1 0.7 0" watch="UpdateFilesLeft" ontrigger="SetText(Translate('main_label_update_files', 'count', param0, 'total', param1));" watch1="UpdateMessage" ontrigger1="SetVisible(param != 1 and param != 7);" />
								<label fity="true" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_9" color="1 0.7 0" watch="UpdateProgress" ontrigger="SetText(Translate('main_label_update_progress', 'count', param0, 'total', param1));" watch1="UpdateMessage" ontrigger1="SetVisible(param != 1 and param != 7);" />
								<label fity="true" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_9" color="1 0.7 0" watch="UpdateSpeed" ontrigger="SetText(Translate('main_label_update_speed', 'speed', param));" watch1="UpdateMessage" ontrigger1="SetVisible(param != 1 and param != 7);" />
								<label fity="true" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_9" color="1 0.7 0" watch="UpdateTime" ontrigger="SetText(Translate('main_label_update_time', 'time', param));" watch1="UpdateMessage" ontrigger1="SetVisible(param != 1 and param != 7);" />
							</panel>
						</panel>

						<!-- Update Bar -->
						<panel y="40.5h" width="21.4h" height="2.6h" align="center" valign="top" noclick="true">
							<panel height="3.0h" align="center" valign="top" color="red">
								<image height="100%" texture="/ui/mainmenu/update_bar_bg.tga" />
								<panel width="100%" height="100%" align="center">
									<panel watch="UpdatePercent" ontrigger="SetVisible(param != 2); SetWidth(FtoP(param));">
										<image watch="UpdatePercent" ontrigger="SetUScale(1 / param);" texture="/ui/mainmenu/update_bar_fg.tga" noclick="1" />
									</panel>
									<label height="100%" width="100%" textvalign="center" textalign="center" shadow="true" font="dyn_12" color="1 1 1 1" noclick="1" watch="UpdatePercent" ontrigger="SetVisible(param != 2); SetText(Round(param * 100) # '%');" />
									<frame texture="/ui/frames/black_corners.tga" color="1 1 1 1" borderthickness="0.6h"/>
									<frame texture="/ui/frames/roundframe.tga" color="#2c4b6c" borderthickness="0.6h"/>
								</panel>
							</panel>
						</panel>

						<!-- Cancel Btn -->
						<instance
							name="button2"
							button_name="updateDownloadingCancel"
							y="-1.8h"
							width="16.0h" height="2.2h"
							valign="bottom"
							align="center"
							font="dyn_9"
							label="main_menu_cancel_update"
							onclick="CancelUpdate(); Logout();"
							watch="UpdateMessage" ontrigger="SetVisible(param != 1);"
						/>
					</panel>
				</panel>
				<!-- Big Center Gear -->
				<image name="login_gear" y="-11.7h" texture="$invis" noclick="1"/>
			</panel>
		</panel>
	</if>

	<!-- Big Rotating Gears -->
	<panel visible="1" noclick="1">
	
		<!-- Garena -->
		<if condition="cl_GarenaEnable">
			<!-- Left Gear -->
			<image name="large_gear_left" x="-66.50h" y="49.7h" rotation="-00" width="96.5h" height="96.5h" align="center" valign="bottom" texture="mainmenu/big_left_gear.tga" noclick="1" />
			<!-- Right  Gear -->
			<image name="large_gear_right" x="66.5h" y="49.7h" width="96.50h" height="96.50h" align="center" valign="bottom" texture="mainmenu/big_right_gear.tga" noclick="1" />
		</if>
		
		<!-- NAEU -->
		<if condition="!cl_GarenaEnable">		
			<!-- Left Gear -->
			<image name="large_gear_left" texture="$invis" visible="0" noclick="1"/>
			<!-- Right  Gear -->
			<image name="large_gear_right" texture="$invis" visible="0" noclick="1"/>
		</if>
	</panel>

	<!-- Mid Menu Bar-->
	<panel
		name="fe2_menu_back"
		y="8.0h"
		height="0"
		align="center" valign="center"
		noclick="true"
		visible="true"
	>
		<!-- Track Image -->
		<!-- Garena -->
		<if condition="cl_GarenaEnable">
			<panel y="0.0h" height="24.0h" width="192h" align="center" valign="center" texture="/ui/fe2/mainmenu/track.tga" noclick="true"/>
			<panel height="24.0h" width="24h" align="left" valign="center" texture="/ui/fe2/mainmenu/track_end_left.tga" noclick="true"/>
			<panel height="24.0h" width="24h" align="right" valign="center" texture="/ui/fe2/mainmenu/track_end_right.tga" noclick="true"/>
		
		
			<panel y="0.0h" height="24.0h" width="12h" align="left" valign="center" texture="/ui/fe2/mainmenu/track_cap_left.tga" noclick="true">
				<!-- -->
				<panel noclick="true" color="invisible" visible="false" watch="GamePhase" ontrigger="If(param gt 0 and _is_halloween, FadeIn(250), FadeOut(250));">
					<panel
						noclick="1"
						x="-2.2h"
						y="-4h"
						height="12h"
						width="12h"
						texture="$invis"
						onshow="SetTexture('/ui/halloween/main_menu_side_candles_bot_left.tga');"
					/>
					<panel
						noclick="1"
						rendermode="additive"
						x="-2.2h"
						y="-4h"
						height="12h"
						width="12h"
						texture="$invis"
						onshow="SetTexture('/ui/halloween/main_menu_side_flames_bot_left.tga');"
					/>
				</panel>
				<panel noclick="true" color="invisible" visible="false" watch="GamePhase" ontrigger="If(param == 0 and _is_halloween, FadeIn(250), FadeOut(250));" onload="SetVisible(_is_halloween);">
					<panel
						noclick="1"
						x="-2.2h"
						y="-7.6h"
						height="16h"
						width="16h"
						texture="$invis"
						onshow="SetTexture('/ui/halloween/main_menu_side_candles_bot_left.tga');"
					/>
					<panel
						noclick="1"
						rendermode="additive"
						x="-2.2h"
						y="-7.6h"
						height="16h"
						width="16h"
						texture="$invis"
						onshow="SetTexture('/ui/halloween/main_menu_side_flames_bot_left.tga');"
					/>
				</panel>

			</panel>
			<panel y="0.0h" height="24.0h" width="12h" align="right" valign="center" texture="/ui/fe2/mainmenu/track_cap_right.tga" noclick="true">
				<!-- -->
				<panel noclick="true" color="invisible" visible="false" watch="GamePhase" ontrigger="If(param gt 0 and _is_halloween, FadeIn(250), FadeOut(250));" >
					<panel
						noclick="1"
						x="0.75h"
						y="-4h"
						height="12h"
						width="12h"
						texture="$invis"
						onshow="SetTexture('/ui/halloween/main_menu_side_candles_bot_right.tga');"
					/>
					<panel
						noclick="1"
						rendermode="additive"
						x="2h"
						y="-4h"
						height="12h"
						width="12h"
						texture="$invis"
						onshow="SetTexture('/ui/halloween/main_menu_side_flames_bot_right.tga');"
					/>
				</panel>
				<panel noclick="true" color="invisible" visible="false" watch="GamePhase" ontrigger="If(param == 0 and _is_halloween, FadeIn(250), FadeOut(250));" onload="SetVisible(_is_halloween);" >
					<panel
						noclick="1"
						x="-3.2h"
						y="-7.6h"
						height="16h"
						width="16h"
						texture="$invis"
						onshow="SetTexture('/ui/halloween/main_menu_side_candles_bot_right.tga');"
					/>
					<panel
						noclick="1"
						rendermode="additive"
						x="-1.5h"
						y="-7.6h"
						height="16h"
						width="16h"
						texture="$invis"
						onshow="SetTexture('/ui/halloween/main_menu_side_flames_bot_right.tga');"
					/>
				</panel>

			</panel>
		</if>

		<!-- Mid Menu Buttons-->
		<panel y="-0.2h" height="12.0h" width="100%" align="center" valign="center" noclick="true">			
			
			<!-- Garena -->
			<if condition="cl_GarenaEnable">
			
				<!--Left Side-->
				<panel name="midbar_panel_left" x="0%" width="0" noclick="true">
					<panel x="-48h" width="96h" align="center" valign="center" noclick="true">
						<image  x="0.72h" texture="/ui/fe2/mainmenu/button_bg_left.tga" noclick="true"/>
						<panel x="2.7h"  y="-1.25h" height="12.0h" width="12h" align="right" valign="center" texture="/ui/fe2/mainmenu/button_bg_left_cap.tga" noclick="true"/>
						<panel width="80h" align="right" noclick="true">

							<panel align="right" valign="center" y="-1.3h" x="-7.8h" height="6.7h" noclick="true">

								<!-- Play Now (Matchmaking)-->
								<instance name="midbar_button_double_split_right" button_name="midbar_button_matchmaking" x="25.8h" align="left" side="L" icon="N_matchmaking" label="main_menu_playnow"
									onclicklua="UIManager.GetInterface('main'):HoNMainF('MainMenuClickedPlayNow')"
								/>

								<!-- Public Games -->
								<instance name="midbar_button_double_split_left" button_name="midbar_button_publicgames" x="42.25h" y="-0.3h" width="-1.8h" align="left" side="L" font="dyn_7" icon="N_public" label="main_menu_playerhosted"
									onclicklua="UIManager.GetInterface('main'):HoNMainF('PublicGamesClicked')"
								/>

								<image x="25.25h" align="left" y="-0.3h" width="26.8h" height="13.4h" texture="/ui/fe2/mainmenu/menu_double_btn_frame_splitL.tga" noclick="1"/>

								<panel x="26.5h" align="left" width="16h" visible="0" color="invisible" name="midbar_button_matchmaking_blocker"
									watch="GamePhase TMMDisplay TMMReset TMMAvailable"
									ontrigger="SetVisible(!IsTMMEnabled());"
									onmouseover="ShowWidget('mm_disabled_tip'); SleepWidget(5000, 'DoEvent();');"
									onmouseout="If(IsVisible('mm_disabled_tip'), HideWidget('mm_disabled_tip'));"
									onshow="SleepWidget(5000, 'DoEvent();');"
									onevent="
										If(IsVisible(),
											RequestTMMPopularityUpdate()
										);
									"
								/>

								<!-- watch system -->
							<instance name="midbar_button" button_name="midbar_button_hontour" x="-13.9h" width="-1.8h" align="right" side="L" icon="watch" enabled="true" label="main_menu_watchsystem" 
									onclicklua="Watch_System.Clicked(true)"
									watch=""
									ontriggerlua=""
								/>

								<!-- Match Stats -->
								<instance name="midbar_button" button_name="midbar_button_matchstats_2" x="0" width="-1.8h" align="right" side="L" icon="N_stats" label="main_menu_matchstats" visible="1"
									onclick="Trigger('matchstats_viewuser', '');"
									onclicklua="UIManager.GetInterface('main'):HoNMainF('MainMenuPanelToggle', 'match_stats', nil, false)"
								/>

							</panel>
						</panel>
					</panel>
				</panel>
				
				<!--Right Side-->
				<panel name="midbar_panel_right" x="100%" width="0" noclick="true">
					<panel x="48h" width="96h" align="center" valign="center" noclick="true">
						<image  x="-0.72h" texture="/ui/fe2/mainmenu/button_bg_right.tga" noclick="true"/>
						<panel x="-3.05h"  y="-1.25h" height="12.0h" width="12h" align="left" valign="center" texture="/ui/fe2/mainmenu/button_bg_right_cap.tga" noclick="true"/>
						<panel width="80h" align="left" noclick="true">

							<panel align="left" valign="center" y="-1.3h" x="7.7h" height="6.7h" noclick="true" visible="true">

								<!-- everyone else's menu -->
								<!-- Ladder -->
								<instance name="midbar_button" button_name="midbar_button_ladder" x="0" align="left" side="R" icon="N_ladder" label="main_menu_playerstats" visible="1"
									onclicklua="Trigger('matchstats_viewuser', '') Player_Stats.ClickedLadder(true)"
								/>

								<!-- Compendium -->
								<instance name="midbar_button" button_name="midbar_button_compendium" x="13.9h" align="left" side="R" icon="N_heroes" label="main_menu_leanatorium"
									onclicklua="UIManager.GetInterface('main'):HoNMainF('MainMenuPanelToggle', 'compendium', nil, false)"
									onevent=""
								/>

								<!-- Store/Plinko  -->
								<instance name="midbar_button_double_split_left" button_name="midbar_button_plinko" x="28.9h" align="left" icon="N_plinko" label="plinko_name"
									onclicklua="UIManager.GetInterface('main'):HoNMainF('MainMenuPanelToggle', 'plinko', nil, false)"
								/>
								<instance name="midbar_button_double_split_right" button_name="midbar_button_store" x="36.7h" align="left" icon="N_store" label="main_menu_store"
								onclicklua="
									local store = GetCvarBool('cg_store2_') and 'store_container2' or 'store_container'
									UIManager.GetInterface('main'):HoNMainF('MainMenuPanelToggle', store, nil, false)
								"
								/>
								<image x="27.9h" align="left" y="-0.3h" width="26.8h" height="13.4h" noclick="1"
									texture="/ui/fe2/mainmenu/menu_double_btn_frame_splitR.tga"
								/>
							</panel>

						</panel>
					</panel>

					<!-- This panel is for the latch status. It is used for things such as the lobby countdown and match making mini status.-->
					<panel name="latch_status" x="-0.36h" width="10.4h" height="10.4h"  y="-1.46h"  align="center" valign="center"  >

						<panel name="lobby_transition_timer" visible="0" >
							<panel texture="mainmenu/latch_status_backer.tga" noclick="1" color="black"/>

							<panel align="center"  y="1.0%" x="1%" valign="top" width="37%" height="37%" noclick="1" visible="1">
								<image name="hero_random_image" watch0="HeroSelectInfo" visible="0" ontrigger0="SetWatch('HeroSelectPlayerInfo' # round(((param13 -1) * 5) + param14));" ontrigger="SetTexture(param6);" width="75%" height="75%" align="center" valign="center" texture="/heroes/kunas/icons/hero.tga"/>
							</panel>

							<image align="center" valign="center" width="115%" height="115%" color="white" texture="mainmenu/timer.tga" noclick="1"/>

							<panel  y="-5%" align="center" valign="center" width="100%" height="25%">
								<label
									font="dyn_14"
									color="1 1 1"
									textvalign="center" textalign="center"
									watch="LobbyCountDown"
									ontrigger="SetText(FtoT(param0, 1, 0, '-'));"
								/>
							</panel>
						</panel>

						<panel name="lobby_status" visible="0">
							<panel texture="mainmenu/latch_status_backer.tga" color="black" noclick="1"/>
							<panel align="center" x="1%" y="1.0%" width="37%" height="37%" visible="1" noclick="1">
								<image visible="0" width="75%" height="75%" align="center" valign="center"
									texture="/heroes/kunas/icons/hero.tga"
									watch0="HeroSelectInfo"
									ontrigger0="SetWatch('HeroSelectPlayerInfo' # round(((param13 -1) * 5) + param14));"
									ontriggerlua="
										if NotEmpty(param6) then
											self:SetTexture(param6)
										end
									"
								/>

								<animatedimage name="random_hack" width="75%" height="75%" x="-1%" y="-1%" visible="0" onshow="StartAnim(1);" align="center" valign="center" texture="lobby/random/random_.tga" loop="1" fps="20" noclick="0"/>

								<button
									onclick="
										RandomHero();
										Call('hero_random_image','SetVisible(1)');
										Call('hero_random_image', 'SleepWidget(2200, \'FadeOut(500)\');');
										Call('random_hack','SetVisible(1)');
										Call('random_hack', 'SleepWidget(500, \'SetVisible(0)\');');
									"
									visible="0"
									watch="HeroSelectInfo"
									ontriggerlua="
										local enable = Main_Walkthrough.pregameLobbyStep == 0 and not AtoB(param7)
										self:SetEnabled(enable)
										self:SetVisible(enable)
									"
									align="center" valign="center" x="-1%" y="-1%" texture="lobby/random.tga"
								/>

							</panel>
							<image align="center" valign="center" width="115%" height="115%" color="white" texture="mainmenu/timer.tga" noclick="1"/>

							<panel  y="-5%" align="center" valign="center" width="100%" height="25%">
								<label
									font="dyn_14"
									color="1 1 1"
									textvalign="center" textalign="center"
									watch="LobbyCountDown"
									ontrigger="SetText(FtoT(param0, 1, 0, '-'));"
								/>
							</panel>
							<panel  y="-15%" align="left" width="45%" valign="bottom" height="25%">
								<label
									font="dyn_12"
									textvalign="center" textalign="right"
									watch="HeroSelectHasExtraTime"
									ontrigger="SetVisible(param);"
									watch0="HeroSelectExtraTime0"
									ontrigger0="SetText(Round(param));"
									watch1="HeroSelectUsingExtraTime0"
									ontrigger1="If(param, SetColor(0, 1, 0.2), SetColor(0, 0.5, 0.1));"
								/>
							</panel>
							<panel  y="-15%" align="right" width="43%" valign="bottom"  height="25%">
								<label
									font="dyn_12"
									textvalign="center" textalign="left"
									watch="HeroSelectHasExtraTime"
									ontrigger="SetVisible(param);"
									watch0="HeroSelectExtraTime1"
									ontrigger0="SetText(Round(param));"
									watch1="HeroSelectUsingExtraTime1"
									ontrigger1="If(param, SetColor(1, 0.2, 0), SetColor(0.5, 0.1, 0));"
								/>
							</panel>
						</panel>
					</panel>

					<panel noclick="1" name="latch_holder" watch="TMMReset TMMTime TMMLeftQueue" ontrigger="##SetVisible(!IsInQueue());##" >
						<animatedimage visible="0" name="latch" numframes="16"  y="-1.42h" x="-7.1h" width="117.5@" height="117.5%" align="left" valign="center" texture="/ui/fe2/mainmenu/latch/latch.tga" noclick="1" loop="1" loopbackframe="-1" fps="30" />
					</panel>
					<animatedimage startframe="26" visible="0" name="latch_open" numframes="8" y="-1.42h" x="-7.1h" width="117.5@" height="117.5%" align="left" valign="center" texture="/ui/fe2/mainmenu/latch/latch.tga" noclick="true" loop="1" loopbackframe="-1" fps="30"/>

					<!-- HoN Tour Latch -->
					<panel name="mm_hontour_status" y="-2.3h" width="14.1h" height="14.1h" align="center" visible="false"
						onclicklua="UIManager.GetInterface('main'):HoNMainF('MainMenuClickedPlayNow')"
					>
						<!-- Lights
						<panel y="10.4h" name="ht_lights" height="1.4h" noclick="true" visible="1">
							<panel x="14%" width="30%" align="left" float="right" padding="0.1h" noclick="true">
								<panel watch="LobbyPlayerList0" ontrigger="" width="0.6h" color=".3 .3 .3 1" noclick="true" />
								<panel watch="LobbyPlayerList1" ontrigger="" width="0.6h" color=".3 .3 .3 1" noclick="true" />
								<panel watch="LobbyPlayerList2" ontrigger="" width="0.6h" color=".3 .3 .3 1" noclick="true" />
								<panel watch="LobbyPlayerList3" ontrigger="" width="0.6h" color=".3 .3 .3 1" noclick="true" />
								<panel watch="LobbyPlayerList4" ontrigger="" width="0.6h" color=".3 .3 .3 1" noclick="true" />
							</panel>
							<panel x="66%" width="30%" align="left" float="right" padding="0.1h" noclick="true">
								<panel watch="LobbyPlayerList5" ontrigger="" width="0.6h" color=".3 .3 .3 1" noclick="true" />
								<panel watch="LobbyPlayerList6" ontrigger="" width="0.6h" color=".3 .3 .3 1" noclick="true" />
								<panel watch="LobbyPlayerList7" ontrigger="" width="0.6h" color=".3 .3 .3 1" noclick="true" />
								<panel watch="LobbyPlayerList8" ontrigger="" width="0.6h" color=".3 .3 .3 1" noclick="true" />
								<panel watch="LobbyPlayerList9" ontrigger="" width="0.6h" color=".3 .3 .3 1" noclick="true" />
							</panel>
						</panel>
						 -->
						<image texture="/ui/fe2/hontour/ht_latch.tga" noclick="true" />
						<label name="hontour_latch_shield_label_1" y="3.6h" width="12.0h" align="center" textalign="center" wrap="true" font="dyn_14" color="#ffc600" outline="true" content="02:36" noclick="true" />
						<label name="hontour_latch_shield_label_2" y="5.9h" width="12.0h" align="center" textalign="center" wrap="true" font="dyn_10" color=".75 .75 .75 1" shadow="true" content="Match Start" noclick="true" />
					</panel>
				</panel>
			</if>
			
			<!-- NAEU -->
			<if condition="!cl_GarenaEnable">
			
				<!--Left Side-->
				<panel name="midbar_panel_left" x="-2%" width="0" noclick="true">
					<panel x="-48h" width="96h" align="center" valign="center" noclick="true">
						<image  x="0.72h" texture="/ui/fe2/mainmenu/button_bg_left.tga" noclick="true"/>
						<panel x="2.7h"  y="-1.25h" height="12.0h" width="12h" align="right" valign="center" texture="/ui/fe2/mainmenu/button_bg_left_cap.tga" noclick="true"/>
						<panel width="80h" align="right" noclick="true">

							<panel align="right" valign="center" y="-1.3h" x="-7.8h" height="6.7h" noclick="true">

								<!-- Play Now (Matchmaking)-->
								<instance name="midbar_button_double_split_right" button_name="midbar_button_matchmaking" x="25.8h" align="left" side="L" icon="N_matchmaking" label="main_menu_playnow"
									onclicklua="UIManager.GetInterface('main'):HoNMainF('MainMenuClickedPlayNow')"
								/>

								<!-- Public Games -->
								<instance name="midbar_button_double_split_left" button_name="midbar_button_publicgames" x="42.25h" y="-0.3h" width="-1.8h" align="left" side="L" font="dyn_7" icon="N_public" label="main_menu_playerhosted"
									onclicklua="UIManager.GetInterface('main'):HoNMainF('PublicGamesClicked')"
								/>

								<image x="25.25h" align="left" y="-0.3h" width="26.8h" height="13.4h" texture="/ui/fe2/mainmenu/menu_double_btn_frame_splitL.tga" noclick="1"/>

								<panel x="26.5h" align="left" width="16h" visible="0" color="invisible" name="midbar_button_matchmaking_blocker"
									watch="GamePhase TMMDisplay TMMReset TMMAvailable"
									ontrigger="SetVisible(!IsTMMEnabled());"
									onmouseover="ShowWidget('mm_disabled_tip'); SleepWidget(5000, 'DoEvent();');"
									onmouseout="If(IsVisible('mm_disabled_tip'), HideWidget('mm_disabled_tip'));"
									onshow="SleepWidget(5000, 'DoEvent();');"
									onevent="
										If(IsVisible(),
											RequestTMMPopularityUpdate()
										);
									"
								/>

								<!-- watch system -->
								<instance name="midbar_button" button_name="midbar_button_hontour" x="-13.9h" width="-1.8h" align="right" side="L" icon="watch" enabled="true" label="main_menu_watchsystem"
									onclicklua="Watch_System.Clicked(true)"
									watch=""
									ontriggerlua=""
								/>

								<!-- Match Stats -->
								<instance name="midbar_button" button_name="midbar_button_matchstats_2" x="0" width="-1.8h" align="right" side="L" icon="N_stats" label="main_menu_matchstats" visible="1"
									onclick="Trigger('matchstats_viewuser', '');"
									onclicklua="UIManager.GetInterface('main'):HoNMainF('MainMenuPanelToggle', 'match_stats', nil, false)"
								/>

							</panel>
						</panel>
					</panel>
				</panel>
			
				<!--Right Side-->
				<panel name="midbar_panel_right" x="102%" width="0" noclick="true">
					<panel x="48h" width="96h" align="center" valign="center" noclick="true">
						<image  x="-0.72h" texture="/ui/fe2/mainmenu/button_bg_right.tga" noclick="true"/>
						<panel x="-3.05h"  y="-1.25h" height="12.0h" width="12h" align="left" valign="center" texture="/ui/fe2/mainmenu/button_bg_right_cap.tga" noclick="true"/>
						<panel width="80h" align="left" noclick="true">

								<panel align="left" valign="center" y="-1.3h" x="7.7h" height="6.7h" noclick="true" visible="true">

								<!-- everyone else's menu -->
								<!-- Ladder -->
								<instance name="midbar_button" button_name="midbar_button_ladder" x="0" align="left" side="R" icon="N_ladder" label="main_menu_playerstats" visible="1"
									onclicklua="Trigger('matchstats_viewuser', '') Player_Stats.ClickedLadder(true)"
								/>

									<!-- Compendium -->
									<instance name="midbar_button" button_name="midbar_button_compendium" x="13.9h" align="left" side="R" icon="N_heroes" label="main_menu_leanatorium"
										onclicklua="UIManager.GetInterface('main'):HoNMainF('MainMenuPanelToggle', 'compendium', nil, false)"
										onevent=""
									/>

									<!-- Store/Plinko  -->
									<instance name="midbar_button_double_split_left" button_name="midbar_button_plinko" x="28.9h" align="left" icon="N_plinko" label="plinko_name"
										onclicklua="UIManager.GetInterface('main'):HoNMainF('MainMenuPanelToggle', 'plinko', nil, false)"
									/>
									<instance name="midbar_button_double_split_right" button_name="midbar_button_store" x="36.7h" align="left" icon="N_store" label="main_menu_store"
								onclicklua="
									local store = GetCvarBool('cg_store2_') and 'store_container2' or 'store_container'
									UIManager.GetInterface('main'):HoNMainF('MainMenuPanelToggle', store, nil, false)
								"
									/>
									<image x="27.9h" align="left" y="-0.3h" width="26.8h" height="13.4h" noclick="1"
										texture="/ui/fe2/mainmenu/menu_double_btn_frame_splitR.tga"
									/>
							</panel>

						</panel>
					</panel>

					<!-- This panel is for the latch status. It is used for things such as the lobby countdown and match making mini status.-->
					<panel name="latch_status" x="-0.36h" width="10.4h" height="10.4h"  y="-1.46h"  align="center" valign="center"  >

						<panel name="lobby_transition_timer" visible="0" >
							<panel texture="mainmenu/latch_status_backer.tga" noclick="1" color="black"/>

							<panel name="hero_random_image" align="center" x="1%" y="1.0%" width="37%" height="37%" visible="1" noclick="1">
								<image watch0="HeroSelectInfo" visible="0" ontrigger0="SetWatch('HeroSelectPlayerInfo' # round(((param13 -1) * 5) + param14));" ontrigger="SetTexture(param6);" width="75%" height="75%" align="center" valign="center" texture="/heroes/kunas/icons/hero.tga"/>
							</panel>
							<image align="center" valign="center" width="115%" height="115%" color="white" texture="mainmenu/timer.tga" noclick="1"/>

							<panel  y="-5%" align="center" valign="center" width="100%" height="25%">
								<label font="dyn_14" color="1 1 1" textvalign="center" textalign="center"
									watch="LobbyCountDown" ontrigger="SetText(FtoT(param0, 1, 0, '-'));"
								/>
							</panel>
						</panel>

						<panel name="lobby_status" visible="0"  >
							<panel texture="mainmenu/latch_status_backer.tga" noclick="1" color="black"/>
							<panel align="center" y="1.0%" x="1%" width="37%" height="37%" visible="1" noclick="1">
								<image visible="0" width="75%" height="75%" align="center" valign="center" texture="/heroes/kunas/icons/hero.tga"
									watch0="HeroSelectInfo"
									ontrigger0="SetWatch('HeroSelectPlayerInfo' # round(((param13 -1) * 5) + param14));"
									ontriggerlua="
										if NotEmpty(param6) then
											self:SetTexture(param6)
										end
									"
								/>

								<animatedimage name="random_hack" width="75%" height="75%" x="-1%" y="-1%" visible="0" onshow="StartAnim(1);" align="center" valign="center" texture="/ui/fe2/lobby/random/random_.tga" loop="1" fps="20" noclick="0"/>

								<button
									onclick="
										RandomHero();
										Call('hero_random_image','SetVisible(1)');
										Call('hero_random_image', 'SleepWidget(2200, \'FadeOut(500)\');');
										Call('random_hack','SetVisible(1)');
										Call('random_hack', 'SleepWidget(500, \'SetVisible(0)\');');
									"
									watch="HeroSelectInfo"
									ontriggerlua="
										local enable = Main_Walkthrough.pregameLobbyStep == 0 and not AtoB(param7)
										self:SetEnabled(enable)
										self:SetVisible(enable)
									"
									align="center" valign="center" x="-1%" y="-1%" texture="/ui/fe2/lobby/random.tga"
								/>
							</panel>

							<image align="center" valign="center" width="115%" height="115%" color="white" texture="mainmenu/timer.tga" noclick="1"/>

							<panel  y="-5%" align="center" valign="center" width="100%" height="25%">
								<label
									font="dyn_14"
									color="1 1 1"
									textvalign="center" textalign="center"
									watch="LobbyCountDown"
									ontrigger="SetText(FtoT(param0, 1, 0, '-'));"
								/>
							</panel>
							<panel  y="-15%" align="left" width="45%" valign="bottom" height="25%">
								<label
									font="dyn_12"
									textvalign="center" textalign="right"
									watch="HeroSelectHasExtraTime"
									ontrigger="SetVisible(param);"
									watch0="HeroSelectExtraTime0"
									ontrigger0="SetText(Round(param));"
									watch1="HeroSelectUsingExtraTime0"
									ontrigger1="If(param, SetColor(0, 1, 0.2), SetColor(0, 0.5, 0.1));"
								/>
							</panel>
							<panel  y="-15%" align="right" width="43%" valign="bottom"  height="25%">
								<label
									font="dyn_12"
									textvalign="center" textalign="left"
									watch="HeroSelectHasExtraTime"
									ontrigger="SetVisible(param);"
									watch0="HeroSelectExtraTime1"
									ontrigger0="SetText(Round(param));"
									watch1="HeroSelectUsingExtraTime1"
									ontrigger1="If(param, SetColor(1, 0.2, 0), SetColor(0.5, 0.1, 0));"
								/>
							</panel>
						</panel>
					</panel>

					<panel noclick="1" name="latch_holder" watch="TMMReset TMMTime TMMLeftQueue" ontrigger="##SetVisible(!IsInQueue());##" >
						<animatedimage visible="0" name="latch" numframes="16"  y="-1.42h" x="-7.1h" width="117.5@" height="117.5%" align="left" valign="center" texture="/ui/fe2/mainmenu/latch/latch.tga" noclick="1" loop="1" loopbackframe="-1" fps="30" />
					</panel>
					<animatedimage startframe="26" visible="0" name="latch_open" numframes="8" y="-1.42h" x="-7.1h" width="117.5@" height="117.5%" align="left" valign="center" texture="/ui/fe2/mainmenu/latch/latch.tga" noclick="true" loop="1" loopbackframe="-1" fps="30"/>

					<!-- HoN Tour Latch -->
					<panel name="mm_hontour_status" y="-2.3h" width="14.1h" height="14.1h" align="center" visible="false"
						onclicklua="UIManager.GetInterface('main'):HoNMainF('MainMenuClickedPlayNow')"
					>
						<image texture="/ui/fe2/hontour/ht_latch.tga" noclick="true" />
						<label name="hontour_latch_shield_label_1" y="3.6h" width="12.0h" align="center" textalign="center" wrap="true" font="dyn_14" color="#ffc600" outline="true" content="02:36" noclick="true" />
						<label name="hontour_latch_shield_label_2" y="5.9h" width="12.0h" align="center" textalign="center" wrap="true" font="dyn_10" color=".75 .75 .75 1" shadow="true" content="Match Start" noclick="true" />
					</panel>
				</panel>
			</if>

		</panel>

		<!-- Garena -->
		<if condition="cl_GarenaEnable">
			<image name="midbar_gear_botright" y="3h" x="0.8h" height="3.2h" width="3.2h" align="right" valign="center"  texture="/ui/fe2/mainmenu/small_gear.tga" noclick="true"/>
			<image name="midbar_gear_topright" y="-5.9h" x="0.8h" height="3.2h" width="3.2h" align="right" valign="center"  texture="/ui/fe2/mainmenu/small_gear.tga" noclick="true"/>
			<image name="midbar_gear_botleft" y="3.0h" x="-0.8h" height="3.2h" width="3.2h" align="left" valign="center"  texture="/ui/fe2/mainmenu/small_gear.tga" noclick="true"/>
			<image name="midbar_gear_topleft" y="-5.9h" x="-0.8h" height="3.2h" width="3.2h" align="left" valign="center"  texture="/ui/fe2/mainmenu/small_gear.tga" noclick="true"/>
		</if>
	</panel>

	<instance name="questsPrizePopup"/>

	<!-- Top Slidedowns Part III: Slide of Darkness -->
	<panel y="2.6h" width="124.8h" height="50.0h" align="center" color="invisible" noclick="true">
		<!-- Player and Quest Lader -->
		<instance name="player_ladder" visible="0"/>
	</panel>

	<panel y="2.6h" width="124.8h" height="50.0h" align="center" color="invisible" noclick="true">
		<instance name="player_motd" visible="0"/>
	</panel>

	<panel y="2.6h" width="124.8h" height="50.0h" align="center" color="invisible" noclick="true">
		<instance name="player_tour_stats" visible="0"/>
	</panel>

	<panel y="2.6h" width="124.8h" height="50.0h" align="center" color="invisible" noclick="true">
		<instance name="watch_system" visible="0"/>
	</panel>

	<if condition="cg_store2_" >
		<panel y="2.6h" width="100%" height="100%" align="center" color="invisible" noclick="true" >
			<instance name="store_container2" visible="0"/>
		</panel>
	</if>

	<trigger name="main_panel_effects_slidein" />
	<panel align="center" color="invisible" noclick="1">
		<effectpanel
			watch0="LoadingVisible" ontrigger0="SetVisible(!param);"
			name="main_effect_panel_1"
			camerawidth="100a"
			cameraheight="100"
			noclick="true"
			watch="main_panel_effects_slidein"
			ontrigger="
				if(param == 1, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_heroes_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 2, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_matchmaking_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 3, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_publicgames_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 4, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_creategame_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				##if(param == 5, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_tournaments_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));##
				##if(param == 6, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_leagues_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));##
				if(param == 7, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_matchstats_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 8, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_quit_slidein.effect', 0.5, 0.52, '1 1 1 1'),PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 9, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_options_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 10, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_offlinereplays_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 11, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_changelog_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 12, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_ladder_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 13, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_playerstats_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 14, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_tutorial_slidein.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_in.wav')));
				if(param == 15, PlaySound('/shared/sounds/ui/menu/slide_in.wav'));
				if(param == 16, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_tutorial_slidein.effect', 0.5, 0.52, '1 1 1 1'),PlaySound('')));
			"
		/>
	</panel>

	<trigger name="main_panel_effects_slideout" />
	<panel  align="center" color="invisible" noclick="1">
		<effectpanel
			watch0="LoadingVisible" ontrigger0="SetVisible(!param);"
			name="main_effect_panel_2"
			camerawidth="100a"
			cameraheight="100"
			noclick="true"
			watch="main_panel_effects_slideout"
			ontrigger="
				if(param == 1, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_heroes_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 2, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_matchmaking_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 3, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_publicgames_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 4, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_creategame_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				##if(param == 5, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_tournaments_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));##
				##if(param == 6, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_leagues_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));##
				if(param == 7, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_matchstats_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 8, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_quit_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 9, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_options_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 10, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_offlinereplays_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 11, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_changelog_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 12, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_ladder_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 13, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_playerstats_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 14, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_tutorial_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
				if(param == 15, PlaySound('/shared/sounds/ui/menu/slide_out.wav'));
				if(param == 16, Split(StartEffect('/ui/fe2/mainmenu/effects/panel_tutorial_slideout.effect', 0.5, 0.52, '1 1 1 1'), PlaySound('/shared/sounds/ui/menu/slide_out.wav')));
			"
		/>
	</panel>

	<!-- System Bar -->
	<childinterface file="/ui/system_notifications.interface"/>
	<include file="system_bar.package"/>
	<lua file="/ui/scripts/system_notifications.lua"/>
	<lua file="/ui/scripts/system_notifications_test.lua"/>
	<lua file="/ui/scripts/special_messages.lua"/>

	<!-- Codex -->
	<!-- <include file="/ui/fe2/codex.package"/> -->

	<instance name="ctfEndSplash"/>
	<instance name="soccerEndSplash"/>

	<panel name="generic_are_you_sure_dialog" y="15h" noclick="1" float="right" height="2h" width="30h" visible="0" >
		<panel x="5%" noclick="1" width="50%" align="left" float="bottom" >
			<label name="generic_are_you_sure_label_1" height="100%" fitx="1" textalign="center" textvalign="center" font="dyn_10" color="#39c6ff" shadow="true" content="general_are_you_sure" noclick="1" underline="1"  />
		</panel>
		<panel name="generic_are_you_sure_no" noclick="0" width="15%" align="left" float="bottom" onclick="DoEvent();" onmouseover="Call('generic_are_you_sure_label_3', 'SetColor(\'#f3c113\');');" onmouseout="Call('generic_are_you_sure_label_3', 'SetColor(\'#39c6ff\');');" >
			<label name="generic_are_you_sure_label_3" height="100%" fitx="1" textalign="left" textvalign="center" font="dyn_10" color="#39c6ff" shadow="true" content="general_no_im_not" noclick="1" underline="1"  />
		</panel>
		<label height="100%" fitx="1" textalign="left" textvalign="center" font="dyn_10" color="#39c6ff" shadow="true" content=" / " noclick="1" underline="1" />
		<panel name="generic_are_you_sure_yes" noclick="0" width="15%" align="left" float="bottom" onclick="DoEvent();" onmouseover="Call('generic_are_you_sure_label_2', 'SetColor(\'#f3c113\');');" onmouseout="Call('generic_are_you_sure_label_2', 'SetColor(\'#39c6ff\');');" >
			<label name="generic_are_you_sure_label_2" height="100%" fitx="1" textalign="left" textvalign="center" font="dyn_10" color="#39c6ff" shadow="true" content="general_yes_i_am" noclick="1" underline="1"  />
		</panel>
	</panel>

	
	<if condition="cl_GarenaEnable">	
		<panel name="prelogin_loginbox_disabled_login" visible="1" noclick="1">
			<!-- Login Input Box -->
			<panel name="prelogin_loginbox" x="0h" height="37.4h" valign="bottom" color="invisible" noclick="1">

				<panel width="48.0h" height="48.0h" align="center" valign="bottom" noclick="1">

					<!-- Login Button -->
					<instance
						name="button2"
						y="15.7h"
						x="-0.2h"
						height="3.0h"
						width="14.8h"
						borderthickness="0.4h"
						align="center"
						button_name="main_login_button"
						font="dyn_12" label="general_login"
						watch="LoginStatus"
						ontrigger="SetVisible(!param2);"
						onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
						onclick="Login(); SaveLoginInfo(); Set(login_temp_password, MD5(main_login_password)); If(!login_rememberPassword, Call('main_login_password', 'EraseInputLine()'));"
						onrightclick="If(LocalServerAvailable, Split(Set('login_name', 'Cheater'), Trigger('LoginStatus', 'success', '', 1, 0, '', 6)));"
					/>

					<instance
						name="button2"
						y="15.7h"
						x="-0.2h"
						height="3.0h"
						width="14.8h"
						borderthickness="0.4h"
						align="center"
						button_name="main_login_button2"
						font="dyn_12" label="general_login"
						watch="LoginStatus"
						ontrigger="SetVisible(param2);"
						enabled="false"
					/>
					
					<image y="-11.7h" texture="/ui/fe2/mainmenu/login_area.tga" noclick="1"/>
					
						
					<label y="11.0%" textalign="center" font="dyn_12" color="white" shadow="true" noclick="1" content="main_label_username"/>
					<label y="21.0%" textalign="center" font="dyn_12" color="white" shadow="true" noclick="1" content="main_label_password"/>

					<!-- Username -->
					<panel y="7.7h" width="13.7h" height="2.6h" align="center" noclick="1"
						onload="If(!VarExists('main_login_user'), CreateString('main_login_user', ''));"
					>
						<textbox
							name="main_login_user"
							textvalign="center"
							taborder="1"
							font="dyn_11"
							color="invisible"
							textcolor="1 .7 0 1"
							maxlength="34"
							selectonfocus="true"
							onload="If(!login_rememberName, SetDefaultFocus(true));"
							watch="LoginStatus"
							ontrigger="
								SetEnabled(!StringEquals(param0, 'success'));
								If(!StringEquals(param0, 'success'), SetTextColor('1 .7 0 1'), Split(SetDefaultFocus(false), SetFocus('false'), SetTextColor('0.5 .35 0 1')));
								"
							onchange="
								Set(login_name, this);
								Call('main_login_button', 'SetEnabled(!StringEmpty(login_name) and !StringEquals(login_password, MD5(\'\')) and ui_useClientLoginSystem);');
								SaveLoginInfo();
								If(!login_rememberPassword, Call('main_login_password', 'EraseInputLine()'));
								"
							onshow="
								If(login_rememberName and !login_rememberPassword, SetFocusName('main_login_password'), SetFocus(true));
								If(login_rememberName, SetInputLine(login_name), EraseInputLine());
								"
							onenter="PlaySound('/shared/sounds/ui/button_click_01.wav'); If(!login_rememberPassword or StringEmpty(login_password), SetFocusName('main_login_password'), If(!IsLoggingIn(), CallEvent('main_login_password'), CancelLogin())); SaveLoginInfo();"
						/>
					</panel>

					<!-- Password -->
					<panel y="12.7h" width="13.7h" height="2.6h" align="center" noclick="true"
						onload="If(!VarExists('main_login_password'), CreateString('main_login_password', ''));"
					>
						<textbox
							name="main_login_password"
							textvalign="center"
							taborder="2"
							font="dyn_11"
							color="invisible"
							textcolor="1 .7 0 1"
							shadow="true"
							maxlength="34"
							selectonfocus="true"
							onload="If(login_rememberName and !login_rememberPassword, SetDefaultFocus(true));"
							passwordchar="*"
							watch="LoginStatus"
							ontrigger="
								SetEnabled(!StringEquals(param0, 'success'));
								If(!StringEquals(param0, 'success'), SetTextColor('1 .7 0 1'), Split(SetDefaultFocus(false), SetFocus(false), SetTextColor('0.5 .35 0 1')));
								If(login_rememberPassword and !StringEmpty(login_name) and !StringEmpty(login_password) and StringEmpty(this), ShowWidget('auto_auth_txt'), HideWidget('auto_auth_txt'));
								"
							onshow="
								If(login_rememberPassword, SetFocus(false));
								If(login_rememberPassword and !StringEmpty(login_name) and !StringEmpty(login_password) and StringEmpty(this), ShowWidget('auto_auth_txt'), HideWidget('auto_auth_txt'));
								"
							onchange="
								If(!StringEmpty(this), Set(login_password, MD5(this)), Set(login_password, ''));
								SaveLoginInfo();
								Call('main_login_button', 'SetEnabled(!StringEmpty(login_name) and !StringEmpty(login_password) and ui_useClientLoginSystem);');

								HideWidget('auto_auth_txt');
								"
							onenter="
								PlaySound('/shared/sounds/ui/button_click_01.wav');
								If(!IsLoggingIn(), If((!StringEmpty(login_password) or !StringEmpty(this)), DoEvent()), CancelLogin());
								"
							onevent="
								Set(login_temp_password, MD5(main_login_password));
								Login();
								SaveLoginInfo();
								If(!login_rememberPassword, EraseInputLine());

								"
							onfocus="HideWidget('auto_auth_txt');"
						/>

						<panel name="auto_auth_txt" height="-0.7h" color="invisible" visible="false" noclick="true">
							<label font="dyn_11" color="0.5 .35 0 1" content="main_login_password_saved" noclick="true"/>
						</panel>
					</panel>
					
					<animatedimage visible="0" name="login_iris" onshow="StartAnim();" y="-11.7h" width="42%" height="42%" align="center" valign="center" texture="/ui/fe2/mainmenu/iris/iris.tga" noclick="true" loop="1" loopbackframe="-1" fps="30"/>
				</panel>
			</panel>
		</panel>
	</if>
	
	<if condition="!cl_GarenaEnable">
		<panel name="prelogin_loginbox_disabled_login" y="4h" noclick="1" visible="1">
			<!-- Login Input Box -->
			<panel name="prelogin_loginbox" x="0h" height="37.4h" valign="bottom" color="invisible" noclick="true">

				<panel width="48.0h" height="48.0h" align="center" valign="bottom" noclick="true">
					<panel noclick="1"
						watch="LoginStatus"
						ontrigger="
							If(StringEquals(param0, 'offline'), SetVisible(1));
							If(StringEquals(param0, 'waiting'), SetVisible(0));
							If(StringEquals(param0, 'success'), SetVisible(0));
							If(StringEquals(param0, 'failure'), SetVisible(0));
							"
					>			
						<!-- Login Button -->
						<instance
							name="button2"
							y="26.7h"
							x="-0.2h"
							height="3.0h"
							width="14.8h"
							borderthickness="0.4h"
							align="center"
							button_name="main_login_button"
							font="dyn_11" label="general_login"
							watch="LoginStatus"
							ontrigger="SetVisible(!param2);"
							onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
							onclick="Login(); SaveLoginInfo(); Set(login_temp_password, MD5(main_login_password)); If(!login_rememberPassword, Call('main_login_password', 'EraseInputLine()'));"
							onrightclick="If(LocalServerAvailable, Split(Set('login_name', 'Cheater'), Trigger('LoginStatus', 'success', '', 1, 0, '', 6)));"
						/>
						<panel noclick="1" align="center" valign="center" float="bottom" grow="1" padding=".3h" y="-.5h" x="2.7h" width="40%" height="20%">
							<panel height="2.0h" noclick="true">
								<instance
									name="Noptions_checkbox"
									tip_id="main_login_save_username_tip"
									align="center"
									image="rememberlogin_box"
									font="dyn_9" label="main_login_save_username"
									cvar="login_rememberName"
									onclick="If(!login_rememberName, Set(login_rememberPassword, false)); SaveLoginInfo();"
								/>
							</panel>
							<panel height="2.0h" noclick="true">
								<instance
									name="Noptions_checkbox"
									tip_id="main_login_auto_auth_tip"
									align="center"
									font="dyn_9" label="main_login_auto_auth"
									cvar="login_rememberPassword"
									onclick="If(login_rememberPassword, Set(login_rememberName, true)); SaveLoginInfo();"
								/>
							</panel>
							<panel height="2.0h" noclick="true">
								<instance
									name="Noptions_checkbox"
									tip_id="main_login_invis_mode_tip"
									align="center"
									font="dyn_9" label="main_login_invis_mode"
									cvar="login_invisible"
									onclick="If(login_invisible, SetSave(login_invisible, true), SetSave(login_invisible, false));"
								/>
							</panel>
						</panel>

						<!-- Fake Login Button -->
						<instance
							name="button2"
							y="21.7h"
							x="-0.2h"
							height="3.0h"
							width="14.8h"
							borderthickness="0.4h"
							align="center"
							button_name="main_login_button2"
							font="dyn_12" label="general_login"
							watch="LoginStatus"
							ontrigger="SetVisible(param2);"
							enabled="false"
						/>
					
						<!-- Username & Password Label -->
						<label name="username_label" y="9.6%" width="18h" height="3h" align="center" textalign="center" font="dyn_10" color="white" shadow="true" noclick="0" content="main_label_username"/>
						<label name="password_label" y="23.6%" width="18h" height="3h" align="center" textalign="center" font="dyn_10" color="white" shadow="true" noclick="0" content="main_label_password"/>

						<!-- Username Edit Box -->
						<panel y="7.6h" width="20.7h" height="3.2h" align="center" noclick="0"
							onload="If(!VarExists('main_login_user'), CreateString('main_login_user', ''));"
						>
							<frame noclick="0" y="-.6h"
								width="115%" height="120%"
								bordercolor="1 1 1 1"
								align="center" valign="center"
								texture="/ui/frames/gem_frame.tga" color=".5 .5 .5 .5" borderthickness="3h"
							/>
							<textbox
								name="main_login_user"
								textvalign="center"
								taborder="1"
								font="dyn_12"
								color="invisible"
								textcolor="1 1 1 1"
								maxlength="34"
								selectonfocus="true"
								onload="If(!login_rememberName, SetDefaultFocus(true));"
								watch="LoginStatus"
								ontrigger="
									SetEnabled(!StringEquals(param0, 'success'));
									If(!StringEquals(param0, 'success'), SetTextColor('1 1 1 1'), Split(SetDefaultFocus(false), SetFocus('false'), SetTextColor('0.5 .35 0 1')));
									"
								onchange="
									Set(login_name, this);
									Call('main_login_button', 'SetEnabled(!StringEmpty(login_name) and !StringEquals(login_password, MD5(\'\')) and ui_useClientLoginSystem);');
									SaveLoginInfo();
									If(!login_rememberPassword, Call('main_login_password', 'EraseInputLine()'));
									"
								onshow="
									If(login_rememberName and !login_rememberPassword, SetFocusName('main_login_password'), SetFocus(false));
									If(login_rememberName, SetInputLine(login_name), EraseInputLine());
									"
								onenter="PlaySound('/shared/sounds/ui/button_click_01.wav'); If(!login_rememberPassword or StringEmpty(login_password), SetFocusName('main_login_password'), If(!IsLoggingIn(), CallEvent('main_login_password'), CancelLogin())); SaveLoginInfo();"
							/>
						</panel>

						<!-- Password Edit Box -->
						<panel y="14.45h" width="20.7h" height="3.2h" align="center" noclick="true"
							onload="If(!VarExists('main_login_password'), CreateString('main_login_password', ''));"
						>
							<frame noclick="0" y="-.6h"
								width="115%" height="120%"
								bordercolor="1 1 1 1"
								align="center" valign="center"
								texture="/ui/frames/gem_frame.tga" color=".5 .5 .5 .5" borderthickness="3h"
							/>
							<textbox
								name="main_login_password"
								textvalign="center"
								taborder="2"
								font="dyn_12"
								color="invisible"
								textcolor="1 1 1 1"
								shadow="true"
								maxlength="34"
								selectonfocus="false"
								onload="If(login_rememberName and !login_rememberPassword, SetDefaultFocus(false));"
								passwordchar="*"
								watch="LoginStatus"
								ontrigger="
									SetEnabled(!StringEquals(param0, 'success'));
									If(!StringEquals(param0, 'success'), SetTextColor('1 1 1 1'), Split(SetDefaultFocus(false), SetFocus(false), SetTextColor('0.5 .35 0 1')));
									If(login_rememberPassword and !StringEmpty(login_name) and !StringEmpty(login_password) and StringEmpty(this), ShowWidget('auto_auth_txt'), HideWidget('auto_auth_txt'));
									"
								onshow="
									If(login_rememberPassword, SetFocus(false));
									If(login_rememberPassword and !StringEmpty(login_name) and !StringEmpty(login_password) and StringEmpty(this), ShowWidget('auto_auth_txt'), HideWidget('auto_auth_txt'));
									"
								onchange="
									If(!StringEmpty(this), Set(login_password, MD5(this)), Set(login_password, ''));
									SaveLoginInfo();
									Call('main_login_button', 'SetEnabled(!StringEmpty(login_name) and !StringEmpty(login_password) and ui_useClientLoginSystem);');

									HideWidget('auto_auth_txt');
									"
								onenter="
									PlaySound('/shared/sounds/ui/button_click_01.wav');
									If(!IsLoggingIn(), If((!StringEmpty(login_password) or !StringEmpty(this)), DoEvent()), CancelLogin());
									"
								onevent="
									Set(login_temp_password, MD5(main_login_password));
									Login();
									SaveLoginInfo();
									If(!login_rememberPassword, EraseInputLine());

									"
								onfocus="HideWidget('auto_auth_txt');"
							/>
						</panel>

						<panel name="auto_auth_txt" x="0.15h" y="-7.80h" width="20.7h" height="3.2h" align="center" valign="center" color="invisible" visible="0" noclick="1">
							<label font="dyn_11" color="1 1 1 1" content="main_login_password_saved" noclick="1"/>
						</panel>
					</panel>
				</panel>

			</panel>
		</panel>

		<!-- Login Errors / Feedback -->
		<panel name="main_status" y="18h" width="16.0h" height="15.5h" align="center" valign="center" visible="0" noclick="1"
			watch="LoginStatus"
			ontrigger="SetVisible(!StringEquals(param0, 'offline')); if(StringEquals(param0, 'success') or StringEquals(param0, 'failure'), Set(login_temp_password, ''));"
		>
			<panel name="main_logging_in" noclick="1">
				<panel height="-1.0h" width="-1.0h" align="center" valign="center" visible="0" color="0 0 0 0" noclick="1"
					watch="LoginStatus"
					ontrigger="SetVisible(!StringEquals(param0, 'success'));"
				>
					<label name="main_login_status_textbox_1"
						y="1.6h"
						width="200%" height="-3.5h"
						wrap="true"
						textalign="center" textvalign="center"
						align="center" valign="center"
						shadow="true" font="dyn_14" color="1 .6 0 1"
						noclick="1"
						content="main_label_login_status_waiting"
						watch="LoginStatus"
						ontrigger="
							If(StringEquals(param0, 'waiting'), SetText(Translate('main_label_login_status_waiting')));
							If(StringEquals(param0, 'waiting'), SetColor(' .6 0 1'));
							If(StringEquals(param0, 'success'), SetText(Translate('main_label_login_status_success')));
							If(StringEquals(param0, 'success'), Split(Set(news_auto_displayed, 0), SetColor('0.2 1.0 0.2 1')));
							If(StringEquals(param0, 'failure') and !IsVisible('news') and (SearchString(param1, 'Password', 0) == -1) and !StringEquals(param1, '#GA002000'), Split(Set(news_auto_displayed, 0), Trigger('RequestMessageOfTheDay')));
							If(StringEquals(param0, 'failure'), SetText(Translate('main_label_login_status_failed', 'reason', Translate(param1))));
							If(StringEquals(param0, 'failure') and StringEquals(param1, 'SEA_DENY'), Split(SetText(Translate('general_error_sea_deny')), Call('sea_garena_prompt', 'FadeIn(250);')));
							If(StringEquals(param0, 'failure'), PlaySound('/shared/sounds/ui/login_fail.wav'), SetColor('1 .6 0 1'));
						"
					/>
					<animatedimage
						texture="/ui/elements/throb/throb.tga"
						width="50%" height="50%"
						align="center" valign="center"
						x="0h" y="-5.9h"
						noclick="0"
						loop="1"
						fps="30"
						onshow="StartAnim(1);"
						watch="LoginStatus"
						ontrigger="
							If(StringEquals(param0, 'offline'), SetVisible(1));
							If(StringEquals(param0, 'waiting'), SetVisible(1));
							If(StringEquals(param0, 'success'), SetVisible(1));
							If(StringEquals(param0, 'failure'), SetVisible(0));
						"
					/>
					<instance
						name="button2" button_name="main_login_cancel_button"
						y="5.1h" x="-.1h"
						width="14.8h" height="3.0h"
						borderthickness="0.4h"
						align="center" valign="bottom"
						font="dyn_12" label="general_cancel"
						watch="LoginStatus"
						onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
						ontrigger="SetVisible(StringEquals(param0, 'waiting'));"
						onclick="CancelLogin(); If(VarExists('_autologin_loggedin') and login_rememberPassword, Split(ShowWidget('auto_auth_txt'), Set('login_rememberPassword', false), Set('login_temp_password', '')));"
					/>
					<instance
						name="button2" button_name="main_login_failure_skip" visible="false"
						y="-3.7h"
						width="13h" height="2.5h"
						align="center" valign="bottom"
						font="dyn_12" label="I'm a Ninja"
						watch="LoginStatus"
						onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
						ontrigger="SetVisible(!StringEmpty(login_password#'') and !StringEmpty(login_name#'') and StringEquals(param0, 'failure') and ui_dev and (releaseStage_dev or releaseStage_test));"
						onclick="ShowWidget('prelogin_options_panel'); HideWidget('prelogin_options_panel_warning');"
					/>
					<instance
						name="button2" button_name="main_login_failure_cancel"
						y="5.1h" x="-.1h"
						width="14.8h" height="3.0h"
						borderthickness="0.4h"
						align="center" valign="bottom"
						font="dyn_12" label="general_ok"
						watch="LoginStatus"
						onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
						ontrigger="SetVisible(StringEquals(param0, 'failure'));"
						onclick="CancelLogin(); If(ui_useClientLoginSystem, HideWidget('main_status'), Quit());"
						labelwatch="UIUpdateRegion LoginStatus"
						labelontrigger="If(ui_useClientLoginSystem, SetText(Translate('general_ok')), SetText(Translate('general_quit')));"
					/>
				</panel>
			</panel>
		</panel>
	</if>

	<panel name="prelogin_loginbox_disabled_nologin" noclick="1" visible="1">
		<panel name="prelogin_loginbox_disabled" x="0h" height="37.4h" valign="bottom" color="invisible" noclick="true">
			<panel width="48.0h" height="48.0h" align="center" valign="bottom" noclick="true">
				<image y="-11.7h" texture="/ui/fe2/mainmenu/login_area_garena.tga" noclick="true"/>
			</panel>
		</panel>
	</panel>

	<instance name="systemNotificationsPopup"/>
	<instance name="systemSpecialMessagePopup" />

	<panel y="5.0h" width="110.0h" height="60.0h" align="center" name="popup_gca_wnd" color="invisible" visible="0" cangrab="true" noclick="0" >
		<instance name="header_bar" header_bar_name="gca_header_bar" button_size="1%" height="3%" show_close="true" close_name="close_gca" onclick="Call('popup_gca_wnd', 'FadeOut(100)');" />

		<panel name="popup_gca_webcontrol" y="3%" width="100%" height="100%" align="center" valign="center" color="invisible" noclick="1" />
	</panel>

	<panel name="confirm_switch_spectator" color="0 0 0 .6" align="center" valign="center" visible="0" watch="ShowConfirmSwitchSpectatorDialog" ontriggerlua="self:SetVisible(true)">
		<panel y="-12h" width="30h" height="15h" align="center" valign="center">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
			<instance name="header_bar" height="2.4h" lbl="" lbl_font="dyn_11" show_close="1" onclicklua="GetWidget('confirm_switch_spectator', 'main'):SetVisible(false) AbortStreamSwitch()"/>
			<panel width="-1h" height="-3.5h" y="-0.5h" align="center" valign="bottom">
				<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
				<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel width="-1h" height="-6h" y="1h" color="1 1 1 .5" align="center" >
					<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
					<panel width="-2h" height="-2h" align="center" valign="center">
						<label font="dyn_12" textvalign="center" textalign="center" noclick="true" color="white" content="server_switch_viewstreaming_text" wrap="1"/>
					</panel>
				</panel>

				<instance name="button2" x="-7h" y="-1.5h" width="7h" height="2.5h" label="server_switch_viewstreaming_confirm" align="center" valign="bottom" onclicklua="GetWidget('confirm_switch_spectator', 'main'):SetVisible(false) Disconnect() ConfirmStreamSwitch()"/>
				<instance name="button2" x="7h" y="-1.5h" width="7h" height="2.5h" label="server_switch_viewstreaming_cancel" align="center" valign="bottom" onclicklua="GetWidget('confirm_switch_spectator', 'main'):SetVisible(false) AbortStreamSwitch()"/>
			</panel>
		</panel>
	</panel>

	<instance name="mastery_pop"/>
	<instance name="rank_reward_popup"/>
	<instance name="campaign_reward_popup"/>
	<instance name="match_glimmer_drop_popup" />
	<instance name="mastery_operation_mask"/>

	<!-- <include file="/ui/fe2/eula_popup.package"/> -->

	<include file="facebook_stream.package"/>
	<instance name="facebook_stream"/>

	<childinterface file="/ui/test_suite/test_suite_client.interface" />

	<floater
		name="game_option_tip"
		x="0.0h" y="2.0h"
		width="20.0h"
		valign="top" align="right"
		color="invisible"
		visible="false"
		passivechildren="true"
		grow="true"
	>
		<frame texture="/ui/frames/tooltip_bg.tga" color="0 0 0 .8" borderthickness=".6h" />
		<frame texture="/ui/frames/roundframe.tga" color="#A0A0A0" borderthickness=".6h" />
			<label
				x="0.8h" y="0.6h"
				textvalign="top"
				textalign="left"
				align="center"
				font="dyn_10"
				noclick="1"
				color="yellow"
				shadow="1"
				wrap="1"
				fity="true"
				fitypadding="0.8h"
				game_option_tip="true"
				watch="GameOptionHover"
				ontrigger="SetText(Translate('mainlobby_gamelist_' # param # '_title'));"
			/>
			<panel y="2.5h" width="-1.6h" align="center" color="invisible" noclick="true" grow="true">
				<label
					textvalign="top"
					textalign="left"
					align="center"
					font="dyn_10"
					noclick="1"
					color="white"
					shadow="1"
					wrap="1"
					fity="true"
					fitxpadding="0"
					fitypadding="1.0h"
					watch="GameOptionHover"
					ontrigger="SetText(Translate('mainlobby_gamelist_' # param # '_desc'));"
				/>
			</panel>
	</floater>

	<floater
		name="advanced_game_option_tip"
		x="0.0h" y="2.0h"
		width="20.0h"
		valign="top" align="right"
		color="invisible"
		visible="false"
		passivechildren="true"
		grow="true"
	>
		<frame texture="/ui/frames/tooltip_bg.tga" color="0 0 0 .8" borderthickness=".6h" />
		<frame texture="/ui/frames/roundframe.tga" color="#A0A0A0" borderthickness=".6h" />
		<label
			x="0.8h" y="0.6h"
			textvalign="top"
			textalign="left"
			align="center"
			font="dyn_10"
			noclick="1"
			color="yellow"
			shadow="1"
			wrap="1"
			fity="true"
			fitypadding="0.8h"
			game_option_tip="true"
			watch="AdvancedGameOptionHover"
			ontrigger="SetText(Translate('mainlobby_gamelist_more_title'));"
			/>
		<panel y="2.5h" width="-1.6h" align="center" color="invisible" noclick="true" grow="true">
			<label
				textvalign="top"
				textalign="left"
				align="center"
				font="dyn_10"
				noclick="1"
				color="white"
				shadow="1"
				wrap="1"
				fity="true"
				fitxpadding="0"
				fitypadding="1.0h"
				watch="AdvancedGameOptionHover"
				ontrigger="SetText(param);"
				/>
		</panel>
	</floater>

	<instance name="tmm_rightclick_menu" menu_name="tmm_grouplist_rtclick" />
	<instance name="cc_rightclick_menu2" menu_name="tmm_userlist_rtclick" />
	<instance name="cc_rightclick_menu2" menu_name="lobby_userlist_rtclick" />
	<instance name="game_rightclick_menu" menu_name="game_userlist_rtclick" />
	<instance name="chat_chan_rightclick_menu" menu_name="chat_chan_rtclick" />

	<!-- player control context menu  for lobby -->
	<panel
		visible="false"
		grow="true"
		float="bottom"
		watch="GameLobbyContextMenu"
		ontrigger="SetVisible(param0); SetX(param1); SetY(param2);"
		hotkey="ESC"
		onhotkey="SetVisible(false);"
	>
		<frame y="0" texture="/ui/frames/tooltip_bg.tga" color="0 0 0 .8" borderthickness=".6h" noclick="1"/>
		<frame y="0" texture="/ui/frames/roundframe.tga" color=".6 .6 .6" borderthickness=".6h" noclick="1"/>

		<anchor y="1.8h" />
		<panel width="10h" height="3h" float="right">
			<instance name="SwapSlot_left" player="0" team="1" slot="0"/>
			<instance name="SwapSlot" player="5" team="2" slot="0"/>
		</panel>
		<panel width="10h" height="3h" float="right">
			<instance name="SwapSlot_left" player="1" team="1" slot="1"/>
			<instance name="SwapSlot" player="6" team="2" slot="1"/>
		</panel>
		<panel width="10h" height="3h" float="right">
			<instance name="SwapSlot_left" player="2" team="1" slot="2"/>
			<instance name="SwapSlot" player="7" team="2" slot="2"/>
		</panel>
		<panel width="10h" height="3h" float="right">
			<instance name="SwapSlot_left" player="3" team="1" slot="3"/>
			<instance name="SwapSlot" player="8" team="2" slot="3"/>
		</panel>
		<panel width="10h" height="3h" float="right">
			<instance name="SwapSlot_left" player="4" team="1" slot="4"/>
			<instance name="SwapSlot" player="9" team="2" slot="4"/>
		</panel>

		<panel width="10h" height="3h" float="right">
			<!-- Spectator -->
			<panel width="50%">
				<panel width="80%" height="80%" align="center" valign="center">
					<frame texture="/ui/frames/tooltip_bg.tga" color="0 0 0 ,8" borderthickness=".6h" align="left" valign="top" noclick="1"/>
					<frame texture="/ui/frames/roundframe.tga" color="#A0A0A0" borderthickness=".6h" noclick="1"/>
					<panel
						width="70@" height="70%"
						align="center" valign="center"
					>
						<image texture="/ui/elements/lobby/icon_spectator.tga" />
						<panel
							rendermode="overlay"
							color="invisible"
							watch="GameLobbyContextMenu"
							ontrigger="
								SetOnclick('
									RequestAssignSpectator(' # param5 # ');
									Trigger(\'GameLobbyContextMenu\', false, 0, 0, 0, ' # param3 # ', ' # param4 # ');
								');
							"
							onmouseover="SetColor('.8 .8 .8');ShowWidget('game_lobby_assign_spectator_tip');"
							onmouseout="SetColor('invisible');HideWidget('game_lobby_assign_spectator_tip');"
						/>
					</panel>
				</panel>
			</panel>

			<!-- Ref -->
			<panel width="50%">
				<panel width="80%" height="80%" align="center" valign="center">
					<frame texture="/ui/frames/tooltip_bg.tga" color="0 0 0 .8" borderthickness=".6h" align="left" valign="top" noclick="1"/>
					<frame texture="/ui/frames/roundframe.tga" color="#A0A0A0" borderthickness=".6h" noclick="1"/>
					<panel
						width="70@" height="70%"
						align="center" valign="center"
					>
						<image texture="/ui/elements/lobby/icon_referee.tga" />
						<panel
							rendermode="overlay"
							color="invisible"
							watch="GameLobbyContextMenu"
							ontrigger="
								SetOnclick('
									PromoteRef(' # param5 # ');
									Trigger(\'GameLobbyContextMenu\', false, 0, 0, 0, 0, -1, ' # param5 # ');
								');
							"
							onmouseover="SetColor('.8 .8 .8');ShowWidget('game_lobby_assign_referee_tip');"
							onmouseout="SetColor('invisible');HideWidget('game_lobby_assign_referee_tip');"
						/>
					</panel>
				</panel>
			</panel>
		</panel>

		<panel width="10h" height="3h" float="right">
			<!-- Assign Host -->
			<panel width="50%">
				<panel width="80%" height="80%" align="center" valign="center">
					<frame texture="/ui/frames/tooltip_bg.tga" color="0 0 0 ,8" borderthickness=".6h" align="left" valign="top" noclick="1"/>
					<frame texture="/ui/frames/roundframe.tga" color="#A0A0A0" borderthickness=".6h" noclick="1"/>
					<panel
						width="70@" height="70%"
						align="center" valign="center"
					>
						<image texture="/ui/elements/lobby/icon_host.tga" />
						<panel
							rendermode="overlay"
							color="invisible"
							watch="GameLobbyContextMenu"
							ontrigger="SetOnclick('RequestAssignHost(' # param5 # ');Trigger(\'GameLobbyContextMenu\', false, 0, 0, 0, 0, -1, ' # param5 # ');');"
							onmouseover="SetColor('.8 .8 .8');ShowWidget('game_lobby_assign_host_tip');"
							onmouseout="SetColor('invisible');HideWidget('game_lobby_assign_host_tip');"
						/>
					</panel>
				</panel>
			</panel>

			<!-- Kick -->
			<panel width="50%">
				<panel width="10h" height="3h" float="right">
					<panel width="50%">
						<panel width="80%" height="80%" align="center" valign="center">
							<frame texture="/ui/frames/tooltip_bg.tga" color="0 0 0 .8" borderthickness=".6h" align="left" valign="top" noclick="1"/>
							<frame texture="/ui/frames/roundframe.tga" color="#A0A0A0" borderthickness=".6h" noclick="1"/>
							<button
								width="70@" height="70%"
								align="center" valign="center"
								texture="/ui/elements/kick.tga"
								watch="GameLobbyContextMenu"
								ontrigger="
									SetOnclick('
										Kick(' # param5 # ');
										Trigger(\'GameLobbyContextMenu\', false, 0, 0, 0, 0, -1, ' # param5 # ');
									');"
								onmouseover="ShowWidget('game_lobby_kick_tip');"
								onmouseout="HideWidget('game_lobby_kick_tip');"
							/>
						</panel>
					</panel>
				</panel>
			</panel>
		</panel>


		<!-- Close -->
		<panel
			x="-0.5h" y="0.5h"
			width="1.1h" height="1.1h"
			align="right"
			texture="/ui/elements/cc_close.tga"
			onclick="Trigger('GameLobbyContextMenu', false, 0, 0, 0, 0, -1);"
			onmouseover="SetColor('.7 .7 .7 .7');"
			onmouseout="SetColor('1 1 1');"
		/>
	</panel>

	<!-- Popup space for MM confirmations -->
	<panel height="50h" y="2.6h" noclick="true" color="invisible">
		<panel name="mainLoginHolidayMessage" color="0 0 0 .5" visible="false">
			<panel align="center" valign="center" width="38.0h" grow="true" regrow="true" color="0 0 0 1">
				<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel width="100%" height="2.5h" noclick="1">
					<instance name="header_bar" lbl="main_login_holiday_sale" lbl_font="dyn_10" show_close="0" />
				</panel>
				<panel y="3.0h" align="center" grow="true" regrow="true" width="-1h" float="bottom">
					<panel width="100%" grow="true" regrow="true">
						<label color="white" shadow="true" font="dyn_10" width="-1.0h" align="center" wrap="true" fity="true" content="" onshow="
								SetText(FormatStringNewLine(Translate('main_login_holiday_sale_body')))
							" />
					</panel>
					<panel width="100%" height="4.0h">
						<instance
							name="button2"
							button_name="mainLoginHolidayMessageOK"
							y="-1.0h"
							align="center" valign="bottom"
							width="9h" height="2.5h"
							label="general_ok"
							font="dyn_10"
						/>
					</panel>
				</panel>
			</panel>
		</panel>

		<!-- Loading Assets...  -->
		<panel name="mm_loading_1" color="0 0 0 0.5" onevent0="" onevent1=""
			visible="false"
		>
			<panel
				y="-0.2h"
				width="25.0h"
				height="22.0h"
				align="center"
				valign="center"
				color="0 0 0 1"
			>
				<frame texture="/ui/info/backdrop.tga" borderthickness="3.0h" color="1 1 1 .5" noclick="1" />
				<frame color="invisible" bordercolor=".2 .2 .2 1" borderthickness="1" noclick="1" />

				<panel y="0.8h" width="-2.0h" align="center" noclick="true">
					<label fity="true" fitypadding="0.4h" textalign="center" font="dyn_14" color="#ffaa00" shadow="true" content="mm_loading_assets" />

					<panel y="-2.0h" width="100%" height="10.0h" valign="top" noclick="true">
						<panel grow="true" growinvis="false" width="100%" valign="center" float="bottom" padding="0.2h" noclick="true">
							<instance name="mm_asset_loading_progressbar" id="0" />
							<instance name="mm_asset_loading_progressbar" id="1" />
							<instance name="mm_asset_loading_progressbar" id="2" />
							<instance name="mm_asset_loading_progressbar" id="3" />
							<instance name="mm_asset_loading_progressbar" id="4" />
						</panel>
					</panel>
					<label fity="true" y="-1.4h" textalign="left" valign="bottom" wrap="true" font="dyn_9" color="1 1 1 1" shadow="true" content="mm_preloadworld_groupwait" />
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_init" onevent0="FadeIn(250);" onevent1="SetVisible(0);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_init"
						show_close="true"
						onclick="LeaveTMMQueue(); LeaveTMMGroup(); CallEvent('mm_popup_init', 1); Set('_TMM_GroupTeamSize', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_init_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mmInitializingCancel"
										width="6h" height="2.5h"
										align="center"
										label="general_cancel"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); LeaveTMMQueue(); LeaveTMMGroup(); CallEvent('mm_popup_init', 1); Set('_TMM_GroupTeamSize', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_kicked" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_kicked"
						show_close="true"
						onclick="CallEvent('mm_popup_kicked', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_kicked_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_kicked_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_kicked', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_servernotidle" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_servernotidle"
						show_close="true"
						onclick="CallEvent('mm_popup_servernotidle', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_servernotidle_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_servernotidle_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_servernotidle', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_badstats" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_badstats"
						show_close="true"
						onclick="CallEvent('mm_popup_badstats', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_badstats_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_badstats_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_badstats', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_groupqueued" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
				<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_groupqueued"
						show_close="true"
						onclick="CallEvent('mm_popup_groupqueued', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_groupqueued_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_groupqueued_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_groupqueued', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_unknown" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_unknown"
						show_close="true"
						onclick="CallEvent('mm_popup_unknown', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_unknown_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_unknown_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_unknown', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_joiningqueue" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_joiningqueue"
						show_close="true"
						onclick="CallEvent('mm_popup_joiningqueue', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_joiningqueue_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_joiningqueue_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_joiningqueue', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_disconnected" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_disconnected"
						show_close="true"
						onclick="CallEvent('mm_popup_disconnected', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_disconnected_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_disconnected_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_disconnected', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_left" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_left"
						show_close="true"
						onclick="CallEvent('mm_popup_left', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_left_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_left_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_left', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_optionsunavailable" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_optionsunavailable"
						show_close="true"
						onclick="CallEvent('mm_popup_optionsunavailable', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_optionsunavailable_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_optionsunavailable_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_optionsunavailable', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_tmmbusy" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_tmmbusy"
						show_close="true"
						onclick="CallEvent('mm_popup_tmmbusy', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_tmmbusy_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_tmmbusy_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_tmmbusy', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_tmmdisabled" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_tmmdisabled"
						show_close="true"
						onclick="CallEvent('mm_popup_tmmdisabled', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_tmmdisabled_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_tmmdisabled_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_tmmdisabled', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_noteligible" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_noteligible"
						show_close="true"
						onclick="CallEvent('mm_popup_noteligible', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_noteligible_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_noteligible_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_noteligible', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_disabled" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_disabled"
						show_close="true"
						onclick="CallEvent('mm_popup_disabled', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_disabled_tip"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_disabled_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_disabled', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_disbanded" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_disbanded"
						show_close="true"
						onclick="CallEvent('mm_popup_disbanded', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_disbanded_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_disbanded_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_disbanded', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_timeout" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_timeout"
						show_close="true"
						onclick="CallEvent('mm_popup_timeout', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_timeout_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="button_name=mm_popup_timeout_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_timeout', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_nomatchesfound" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_nomatchesfound"
						show_close="true"
						onclick="CallEvent('mm_popup_nomatchesfound', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_nomatchesfound_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_nomatchesfound_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_nomatchesfound', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_invalid_version" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
				<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_popup_invalid_version"
						show_close="true"
						onclick="CallEvent('mm_popup_invalid_version', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_popup_invalid_version_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_invalid_version_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_invalid_version', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_group_full" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
				<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_popup_group_full"
						show_close="true"
						onclick="CallEvent('mm_popup_group_full', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_popup_group_full_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_group_full_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_group_full', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_banned" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
				<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_popup_banned"
						show_close="true"
						onclick="CallEvent('mm_popup_banned', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" watch="TMMBanTime" ontrigger="SetText(Translate('mm_popup_banned_body', 'minutesseconds', param0));"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_banned_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_banned', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>

		<panel width="100%" height="100%" color="0 0 0 0.5" name="mm_popup_leavestrike_warning" onevent0="FadeIn(150);" onevent1="FadeOut(150);" visible="false"
				watch="LeaveStrikeWarning" ontrigger="DoEvent(0);">
			<panel width="30h" grow="true" align="center" valign="center" noclick="1">
				<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel float="bottom" width="100%" grow="true">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						lbl="mm_popup_leavestrike_warning"
						show_close="true"
						onclick="CallEvent('mm_popup_leavestrike_warning', 1);"
					/>
					<panel height="0.5h"/>
					<panel width="100%" grow="true">
						<panel width="-1.0h" align="center" grow="true" noclick="1">
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="-1.0h" align="center" color="invisible" noclick="1" grow="true" float="bottom">
								<panel height="0.5h"/>
								<label font="dyn_10" wrap="true" fity="true" color="white" shadow="true" textalign="center" content="mm_popup_leavestrike_warning_body"/>
								<panel height="0.5h"/>
								<panel width="100%" grow="true">
									<instance
										name="button2"
										button_name="mm_popup_leavestrike_warning_ok"
										width="6h" height="2.5h"
										align="center"
										label="general_ok"
										onclick="PlaySound('/shared/sounds/ui/lobby/button_jointeam.wav'); CallEvent('mm_popup_leavestrike_warning', 1);"
									/>
								</panel>
								<panel height="0.5h"/>
							</panel>
						</panel>
					</panel>
					<panel height="0.5h"/>
				</panel>
			</panel>
		</panel>
	</panel>

	<panel name="remote_loading" color="invisible" blockinput="true" watch="RemoteLoading" ontrigger="SetVisible(param);" visible="false">
		<panel y="33%" width="24.0h" height="10.4h" align="center" valign="top">
			<frame  texture="/ui/frames/tooltip_bg.tga" color="#0c1b3bc9" borderthickness=".6h" align="left" valign="top">
				<frame texture="/ui/frames/roundframe.tga" color="#A0A0A0" borderthickness=".6h"/>
				<instance name="header_bar" buttonsize="1.5h" height="2.2h" lbl="mainlobby_server_header" show_close="1" onclick="PlaySound('/shared/sounds/ui/button_click.mp3'); Disconnect(); HideWidget('remote_loading');"/>
				<panel y="2.5h" height="4.0h" width="-1.8h" align="center">
					<animatedimage x="1.0h" width="3.0h" height="3.0h" valign="center" texture="/ui/elements/throb/throb.tga" noclick="true" loop="1"  fps="30"  onshow="StartAnim(1);" />
					<label x="4.0h" width="-5.0h" height="100%" textvalign="center" textalign="center" valign="center" align="left" font="dyn_10" color="white" shadow="true" shadowcolor="black" noclick="1" content="mainlobby_create_game_remote"/>
				</panel>
				<instance
					name="button2"
					button_name="remote_loading_disconnect"
					y="7.0h"
					height="2.4h"
					width="10.0h"
					align="center"
					label="general_disconnect"
					font="dyn_10"
					onclick="Disconnect(); HideWidget('remote_loading');"
					onclicklua="UIManager.GetInterface('main'):HoNNewsF('ReopenNews')"
				/>
			</frame>
		</panel>
	</panel>

	<!-- Reconnect dialog -->
	<panel name="reconnect_dialog" color="0 0 0 0.75" visible="false" watch="ReconnectShow" ontrigger="If(_game_phase lt 1, SetVisible(param));" >
		<panel height="53.0h" color="invisible" noclick="true" >
			<instance
				name="alert_box"
				width="40.0h"
				height="10h"
				align="center" valign="bottom"
				y="-2.4h"
				label="main_reconnect_header"
				show_close="true"
				body="reconnect_buttons"
				closebtn_click="Call('reconnect_dialog', 'FadeOut(250);'); ClearReconnectInfo();"
			/>
		</panel>
	</panel>

	<panel name="stream_stopped_warning" color="0 0 0 0.8" visible="0" noclick="0"
		watch="StreamAbnormallyStopped"
		ontriggerlua="
			local result = tonumber(param)
			local label = 'mstore_error_unknown'
			if result == 0 then
				label = 'stream_stopped_file_not_found'
			elseif result == 1 then
				label = 'stream_stopped_general_failure'
			end
			GetWidget('stream_stopped_warning'):SetVisible(true)
			GetWidget('stream_stopped_warning_label'):SetText(Translate(label))
		"
	>
		<panel y="-10h" width="45h" height="16h" align="center" valign="center">
			<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1"/>
			<instance name="header_bar" close_name="stream_stopped_warning_btn_close" lbl="watch_system_warning_title" height="3h" lbl_font="dyn_12" show_close="1" onclicklua="GetWidget('stream_stopped_warning'):SetVisible(false)"/>

			<panel y="3.25h" width="-0.5h" height="-3.5h" align="center" valign="top" noclick="1">
				<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
				<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1"/>

				<panel width="-3h" height="9h" y="0h" align="center">
					<label name="stream_stopped_warning_label" font="dyn_12" textvalign="center" textalign="center" noclick="true" wrap="true" color="white" content=""/>
				</panel>

				<instance
					name="button2"
					x="0h"
					y="-1.5h"
					width="10h"
					height="2.5h"
					label="general_ok"
					font="dyn_11"
					align="center"
					valign="bottom"
					onclicklua="GetWidget('stream_stopped_warning'):SetVisible(false)"
				/>
			</panel>
		</panel>
	</panel>

	<!-- Game lobby ack timeout dialog -->
	<template name="lobby_ack_timeout_body">
		<label
			height="4.5h"
			wrap="true"
			font="dyn_10"
			color="white"
			x=".5h"
			content="game_lobby_ack_timeout_body"
		/>
	</template>

	<panel name="lobby_ack_timeout_dialog" height="53.0h" color="invisible" noclick="true" visible="false"
		watch="LobbyAckTimeout" 
		ontriggerlua="self:SetVisible(AtoB(param0))"
		watch0="GamePhase"
		ontrigger0lua="self:SetVisible(false)"
		>
		<instance
			name="alert_box"
			width="40.0h"
			height="10h"
			align="center" valign="bottom"
			y="-2.4h"
			label="game_lobby_ack_timeout_title"
			body="lobby_ack_timeout_body"
		/>
	</panel>

	<template name="lobby_ack_disconnect_body">
		<label
			height="4.5h"
			wrap="true"
			font="dyn_10"
			color="white"
			x=".5h"
			content="game_lobby_ack_disconnect_body"
		/>

		<instance
			name="button2"
			width="10h"
			height="2.5h"
			label="general_ok"
			font="dyn_11"
			align="center"
			valign="bottom"
			onclicklua="GetWidget('lobby_ack_disconnect_dialog'):FadeOut(250)"
		/>
	</template>

	<panel name="lobby_ack_disconnect_dialog" color="0 0 0 0.75" visible="false" 
		watch="LobbyAckTimeoutDisconnect" 
		ontriggerlua="
			self:UICmd('Disconnect')
			self:SetVisible(true)
		">
		<panel height="53.0h" color="invisible" noclick="true" >
			<instance
				name="alert_box"
				width="40.0h"
				height="10h"
				align="center" valign="bottom"
				y="-2.4h"
				label="game_lobby_ack_disconnect_title"
				body="lobby_ack_disconnect_body"
				show_close="true"
				onclick="Call('lobby_ack_disconnect_dialog', 'FadeOut(250);');"
			/>
		</panel>
	</panel>

	<instance name="questsResetPrompt"/>
	<instance name="questsCompletedPopup" index="2"/>
	<instance name="questsCompletedPopup" index="1"/>
	<instance name="questsErrorMessage"/>

	<instance name="disband_confirm" visible="0"/>
	<instance name="disconnect_confirm" visible="0"/>
	<instance name="quit_confirm" visible="0"/>
	<instance name="graphicsdriverold_confirm" visible="0"/>
	<instance name="disconnect_confirm_leaver" visible="0"/>
	<instance name="quit_confirm_leaver" visible="0"/>
	<instance name="too_many_friends" visible="0" />
	<instance name="warn_tokens" visible="0" />
	<instance name="warn_unverified" visible="0" />
	<instance name="warn_noteligibleforcampaign" visible="0" />
	<instance name="need_tokens" visible="0" />
	<instance name="restricted_regions" visible="0" />
	<instance name="account_verified" visible="0" />
	<instance name="verified_benefits_modal" visible="0" />
	<instance name="verified_benefits_FloatTip" visible="0" />

	<instance name="purchase_confirmation_altcoutier" />
	<instance name="purchase_confirmation_other" />

	<instance name="generic_dialog_box_template" />
	<instance name="generic_ht_dialog_box_template" />
	<instance name="generic_dialog_box_wr_template" />
	<instance name="generic_dialog_box_combo_template" />
	

	<!-- Modded Files Box -->
	<panel name="main_modded_files_list" visible="0" color="0 0 0 .7" onshow="BringToFront();">
		<panel align="center" valign="center" height="53h" grow="1" regrow="1" growinvis="1">
			<panel width="90.0h" align="center" valign="center" grow="1" regrow="1" growinvis="1" noclick="1">
				<frame color="0 0 0 .8" bordercolor="#455166" borderthickness="1" noclick="1" />
				<panel width="100%" float="bottom" padding="0.5h" grow="1" regrow="1" growinvis="1" color="invisible" noclick="1">
					<instance
						name="header_bar"
						buttonsize="1.8h"
						height="2.4h"
						width="-2"
						y="1"
						lbl_font="dyn_11"
						align="center"
						lbl="sysbar_mods"
						show_close="true"
						onclick="Call('main_modded_files_list', 'FadeOut(250);');"
					/>
					<panel width="100%" align="center" color="invisible" grow="1" noclick="1">
						<panel width="-1.0h" align="center" color="invisible" grow="1" regrow="1" growinvis="1" >
							<frame texture="/ui/frames/tooltip_bg.tga" color="#2c4b6c" noclick="1"/>
							<frame color="invisible" bordercolor="#455166" borderthickness="1" noclick="1" />
							<panel width="100%" grow="1" align="center" float="bottom" padding="1.0h" noclick="true">

								<panel y="1.0h" grow="1" width="100%" >
									<label fity="true" width="-1.0h" align="center" textalign="center" textvalign="top" font="dyn_11" color="white" shadow="true" wrap="true" content="main_mods_header"
									/>
								</panel>

								<panel height="17.5h" grow="1" regrow="1" growinvis="1" width="100%" noclick="true" visible="true" >
									<panel width="-1h" align="center" noclick="1">
										<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="0 0 0 .7" blockinput="false" noclick="true"/>
										<frame texture="/ui/frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.5h" blockinput="false" noclick="true"/>
									</panel>

									<panel width="-2h" height="-2h" valign="center" align="center" noclick="1">
										<textbuffer
											name="main_modded_files_buffer"
											scrolltexture="/ui/info/combobox.tga"
											handleheight="2.0h"
											scrollbarsize="2.2h"
											exteriorscrollbars="false"
											textalign="left"
											font="dyn_10"
											textcolor="white"
											color="invisible"
											shadow="1"
											noclick="0"
										/>
									</panel>
								</panel>

								<panel height="2.4h" noclick="true" sticky="true" stickytoinvis="false">
									<instance
										name="button2"
										button_name="main_modded_files_list_ok"
										x="-1.5h"
										width="12.0h" height="2.4h"
										align="right"
										valign="center"
										label="general_okay"
										onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
										onclick="Call('main_modded_files_list', 'FadeOut(250);');"
									/>
								</panel>
								<panel height="0.25h" noclick="true"/>
							</panel>
						</panel>
					</panel>
					<panel height="0" noclick="1"/>
				</panel>
			</panel>
		</panel>
	</panel>

	<panel color="0 0 0 .8" visible="0" watch="LoadingFinished" ontriggerlua="if ViewingReplay() then self:SetVisible(true) end" watch1="ReplayPanel" ontrigger1lua="self:SetVisible(false)">
		<panel noclick="1" y="-17h" >
			<label width="-10.0h" y="4h" height="100%" align="center" textalign="center" textvalign="center" wreferral="1" font="dyn_14" color="white" shadow="1" content="watch_system_loadingres_masktext" noclick="1" />
			<animatedimage width="4.5h" height="4.5h" texture="/ui/elements/throb/throb.tga" noclick="true" loop="1" fps="30" onshow="StartAnim(1);" visible="1" align="center" valign="center" />
		</panel>
	</panel>

	<childinterface file="/ui/spectoast.interface"/>

	<instance name="simple_tooltip_floater" tip_id="game_lobby_swap_tip" align="right" x="-.5h" width="22.0h" label="game_lobby_swap_tip" />
	<instance name="simple_tooltip_floater" tip_id="game_lobby_assign_spectator_tip" align="right" x="-.5h" width="22.0h" label="game_lobby_assign_spectator_tip" />
	<instance name="simple_tooltip_floater" tip_id="game_lobby_assign_referee_tip" align="right" x="-.5h" width="22.0h" label="game_lobby_assign_referee_tip" />
	<instance name="simple_tooltip_floater" tip_id="game_lobby_assign_host_tip" align="right" x="-.5h" width="22.0h" label="game_lobby_assign_host_tip" />
	<instance name="simple_tooltip_floater" tip_id="game_lobby_kick_tip" align="right" x="-.5h" width="22.0h" label="game_lobby_kick_tip" />
	<!-- end  player control context menu  for lobby -->

	<!-- Highest level not popup -->
	<include file="regions.package"/>

	<!-- Report a player stuff -->
	<instance name="rap_report" />

	<!-- Buy Single/Pack Tokens (matchmaking.package) -->
	<instance name="tmm_purchase_tokens_template" />

	<!-- Watch User -->
	<include file="watch_user.package" />
	<instance name="watch_user" />

	<!-- Tooltips -->
	<include file="main_tooltips.package"/>

	<floater name="match_stats_maximise_hover_frame" noclick="1" visible="0" height="15h" width="42h" x="22" y="-22" >
		<frame texture="/ui/frames/rounded_bg_blue.tga" borderthickness="0.7h" color=".5 .5 .5 1" blockinput="false" noclick="1" />
		<frame texture="/ui/frames/roundframe.tga" color="#074880" borderthickness="0.7h" blockinput="false" noclick="1" />
		<panel width="-8%" height="-5@" align="center" valign="center" noclick="true">
			<image name="match_stats_player_award_max_image" width="50@" height="50%" valign="center" texture="$invis" noclick="1" resourcecontext="endstats"/>
			<panel width="-82@" align="right" noclick="1">
				<label name="match_stats_player_award_max_label" height="20%" color="red" outline="1" font="dyn_16" textalign="left" textvalign="center" align="center" valign="top" content="?" noclick="1" />
				<label name="match_stats_player_award_max_desc" height="80%" wrap="true" color="1 1 1 1" shadow="1" font="dyn_14" textalign="left" valign="bottom" content="---" noclick="1" />
			</panel>
		</panel>
	</floater>

	<include file="main_tooltips_store.package"/>

	<!-- Popups -->
	<include file="main_passchange.package"/>
	<include file="main_dialogs.package"/>

	<!-- Garena VIP Info -->
	<instance name="GarenaVIPFloatTip" />
	<instance name="GarenaVIPModal" />

	<childinterface file="/ui/fe2/web_panel.interface" />

	<childinterface file="/ui/game_vote.interface" />
	<instance name="vote_panel" align="center"/>

	<include file="main_splash_screens.package"/>

	<if condition="!cg_store2_" >
	<include file="lib_cards.package"/>
	</if>
	<if condition="cg_store2_" >
		<include file="lib_cards2.package"/>
	</if>

	<if condition="(releaseStage_dev or releaseStage_test) and !releaseStage_stable and !ui_disableQAChecklist" >
		<childinterface file="/ui/game_qa.interface" />
	</if>

	<if condition="cl_AlienFXEnabled" >
		<panel name="alienfx_panel" noclick="1" />
		<lua file="/ui/scripts/alienfx.lua" />
	</if>

	<if condition="(releaseStage_dev or releaseStage_test) and !releaseStage_stable" >
		<instance name="dbg_widget_editor" />
	</if>

	<lua file="/ui/fe2/quests/quests.lua"/>
	<lua file="/ui/scripts/ctf_end_splash.lua"/>
	<lua file="/ui/scripts/soccer_end_splash.lua"/>
	<lua file="/ui/scripts/player_stats2.lua"/>
	<lua file="/ui/scripts/match_stats2.lua"/>
	<lua file="/ui/scripts/store2.lua"/>

	<!-- MVP Vote
	<include file="/ui/mvp_vote.package"/>
	<instance name="mvp_vote" visible="0"/>
	<lua file="/ui/scripts/mvp_vote.lua" />
	-->
</interface>
